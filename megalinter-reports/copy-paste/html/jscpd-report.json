{
  "statistics": {
    "detectionDate": "2026-02-16T08:54:55.662Z",
    "formats": {
      "python": {
        "sources": {
          "nodupe/tools/video/video_plugin.py": {
            "lines": 55,
            "tokens": 380,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 66,
            "duplicatedTokens": 534,
            "percentage": 120,
            "percentageTokens": 140.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/video/__init__.py": {
            "lines": 388,
            "tokens": 2917,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 242,
            "percentage": 6.7,
            "percentageTokens": 8.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/time_sync/sync_utils.py": {
            "lines": 931,
            "tokens": 4943,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/time_sync/failure_rules.py": {
            "lines": 624,
            "tokens": 4523,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/time_sync/__init__.py": {
            "lines": 35,
            "tokens": 19,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/similarity/__init__.py": {
            "lines": 562,
            "tokens": 3929,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 1.96,
            "percentageTokens": 2.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/security_audit/validator_logic.py": {
            "lines": 417,
            "tokens": 1790,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/security_audit/security_logic.py": {
            "lines": 452,
            "tokens": 2287,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/scanner_engine/walker.py": {
            "lines": 272,
            "tokens": 1608,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 98,
            "percentage": 3.31,
            "percentageTokens": 6.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/scanner_engine/progress.py": {
            "lines": 227,
            "tokens": 1398,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/scanner_engine/processor.py": {
            "lines": 315,
            "tokens": 1764,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 98,
            "percentage": 2.86,
            "percentageTokens": 5.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/scanner_engine/incremental.py": {
            "lines": 129,
            "tokens": 765,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/scanner_engine/file_info.py": {
            "lines": 30,
            "tokens": 204,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/scanner_engine/__init__.py": {
            "lines": 33,
            "tokens": 94,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/parallel/pools.py": {
            "lines": 719,
            "tokens": 3280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/parallel/parallel_tool.py": {
            "lines": 90,
            "tokens": 603,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 104,
            "percentage": 16.67,
            "percentageTokens": 17.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/parallel/parallel_logic.py": {
            "lines": 730,
            "tokens": 4107,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 36,
            "duplicatedTokens": 252,
            "percentage": 4.93,
            "percentageTokens": 6.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/os_filesystem/mmap_handler.py": {
            "lines": 81,
            "tokens": 363,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/os_filesystem/filesystem.py": {
            "lines": 305,
            "tokens": 1449,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 236,
            "percentage": 9.84,
            "percentageTokens": 16.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/network/network_plugin.py": {
            "lines": 56,
            "tokens": 370,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 19.64,
            "percentageTokens": 24.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/network/__init__.py": {
            "lines": 288,
            "tokens": 2167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/ml/ml_plugin.py": {
            "lines": 55,
            "tokens": 363,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 20,
            "percentageTokens": 24.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/ml/embedding_cache.py": {
            "lines": 402,
            "tokens": 2239,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 149,
            "duplicatedTokens": 828,
            "percentage": 37.06,
            "percentageTokens": 36.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/ml/__init__.py": {
            "lines": 183,
            "tokens": 1123,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/mime/mime_tool.py": {
            "lines": 55,
            "tokens": 361,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 20,
            "percentageTokens": 24.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/mime/mime_logic.py": {
            "lines": 326,
            "tokens": 1741,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/maintenance/transaction.py": {
            "lines": 169,
            "tokens": 1141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/maintenance/snapshot.py": {
            "lines": 430,
            "tokens": 2492,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/maintenance/rollback.py": {
            "lines": 93,
            "tokens": 645,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/maintenance/manager.py": {
            "lines": 95,
            "tokens": 414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/maintenance/log_compressor.py": {
            "lines": 115,
            "tokens": 751,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/maintenance/__init__.py": {
            "lines": 37,
            "tokens": 94,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/leap_year/leap_year.py": {
            "lines": 618,
            "tokens": 4024,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/leap_year/__init__.py": {
            "lines": 26,
            "tokens": 19,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/hashing/hashing_tool.py": {
            "lines": 136,
            "tokens": 1049,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/hashing/hasher_logic.py": {
            "lines": 246,
            "tokens": 1129,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/hashing/hash_cache.py": {
            "lines": 287,
            "tokens": 1543,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 87,
            "duplicatedTokens": 482,
            "percentage": 30.31,
            "percentageTokens": 31.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/hashing/autotune_logic.py": {
            "lines": 313,
            "tokens": 2021,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/gpu/gpu_plugin.py": {
            "lines": 58,
            "tokens": 404,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 18.97,
            "percentageTokens": 22.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/gpu/__init__.py": {
            "lines": 325,
            "tokens": 2552,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 270,
            "percentage": 7.38,
            "percentageTokens": 10.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/wrapper.py": {
            "lines": 426,
            "tokens": 2506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/transactions.py": {
            "lines": 421,
            "tokens": 1648,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/session.py": {
            "lines": 81,
            "tokens": 195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/serialization.py": {
            "lines": 118,
            "tokens": 289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/security.py": {
            "lines": 194,
            "tokens": 1008,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/schema.py": {
            "lines": 474,
            "tokens": 1864,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/repository_interface.py": {
            "lines": 153,
            "tokens": 830,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/query_cache.py": {
            "lines": 344,
            "tokens": 1966,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 62,
            "duplicatedTokens": 346,
            "percentage": 18.02,
            "percentageTokens": 17.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/query.py": {
            "lines": 189,
            "tokens": 1431,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/logging_.py": {
            "lines": 111,
            "tokens": 341,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/locking.py": {
            "lines": 91,
            "tokens": 361,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/indexing.py": {
            "lines": 494,
            "tokens": 2500,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/files.py": {
            "lines": 422,
            "tokens": 2283,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 162,
            "duplicatedTokens": 1328,
            "percentage": 38.39,
            "percentageTokens": 58.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/embeddings.py": {
            "lines": 371,
            "tokens": 1792,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 76,
            "duplicatedTokens": 602,
            "percentage": 20.49,
            "percentageTokens": 33.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/database_tool.py": {
            "lines": 100,
            "tokens": 677,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 104,
            "percentage": 15,
            "percentageTokens": 15.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/database.py": {
            "lines": 20,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/connection.py": {
            "lines": 235,
            "tokens": 1074,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/compression.py": {
            "lines": 128,
            "tokens": 378,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/cleanup.py": {
            "lines": 125,
            "tokens": 563,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/cache.py": {
            "lines": 128,
            "tokens": 473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/databases/__init__.py": {
            "lines": 39,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/database/sharding.py": {
            "lines": 106,
            "tokens": 713,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 106,
            "duplicatedTokens": 713,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/database/features.py": {
            "lines": 272,
            "tokens": 1695,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 106,
            "duplicatedTokens": 713,
            "percentage": 38.97,
            "percentageTokens": 42.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/compression_standard/engine_logic.py": {
            "lines": 349,
            "tokens": 2772,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/commands/verify.py": {
            "lines": 456,
            "tokens": 3013,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/commands/similarity.py": {
            "lines": 213,
            "tokens": 1346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/commands/scan.py": {
            "lines": 201,
            "tokens": 1228,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/commands/plan.py": {
            "lines": 202,
            "tokens": 1285,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/commands/lut_command.py": {
            "lines": 76,
            "tokens": 515,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/commands/apply.py": {
            "lines": 233,
            "tokens": 1469,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/commands/__init__.py": {
            "lines": 624,
            "tokens": 4665,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/archive/archive_tool.py": {
            "lines": 95,
            "tokens": 688,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 11.58,
            "percentageTokens": 12.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/tools/archive/archive_logic.py": {
            "lines": 296,
            "tokens": 1752,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/security.py": {
            "lines": 351,
            "tokens": 1919,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/registry.py": {
            "lines": 95,
            "tokens": 701,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/loading_order.py": {
            "lines": 793,
            "tokens": 4820,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/loader.py": {
            "lines": 380,
            "tokens": 1860,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/lifecycle.py": {
            "lines": 397,
            "tokens": 2111,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/hot_reload.py": {
            "lines": 415,
            "tokens": 2648,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/example_accessible_tool.py": {
            "lines": 165,
            "tokens": 1075,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/discovery.py": {
            "lines": 484,
            "tokens": 2788,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/dependencies.py": {
            "lines": 376,
            "tokens": 2174,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/compatibility.py": {
            "lines": 569,
            "tokens": 3424,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/base.py": {
            "lines": 135,
            "tokens": 559,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/accessible_base.py": {
            "lines": 204,
            "tokens": 1357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tool_system/__init__.py": {
            "lines": 27,
            "tokens": 147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/versioning.py": {
            "lines": 95,
            "tokens": 785,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/validation.py": {
            "lines": 86,
            "tokens": 861,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 18,
            "duplicatedTokens": 264,
            "percentage": 20.93,
            "percentageTokens": 30.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/ratelimit.py": {
            "lines": 87,
            "tokens": 727,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/openapi.py": {
            "lines": 98,
            "tokens": 965,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/ipc.py": {
            "lines": 205,
            "tokens": 1787,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/decorators.py": {
            "lines": 98,
            "tokens": 1153,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 92,
            "percentage": 8.16,
            "percentageTokens": 7.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/codes.py": {
            "lines": 133,
            "tokens": 1019,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/api/__init__.py": {
            "lines": 29,
            "tokens": 108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/utils/validation.py": {
            "lines": 907,
            "tokens": 5931,
            "sources": 1,
            "clones": 22,
            "duplicatedLines": 386,
            "duplicatedTokens": 3391,
            "percentage": 42.56,
            "percentageTokens": 57.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/utils/plugins.py": {
            "lines": 482,
            "tokens": 2026,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/utils/performance.py": {
            "lines": 605,
            "tokens": 3382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/utils/filesystem.py": {
            "lines": 410,
            "tokens": 2249,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/utils/errors.py": {
            "lines": 662,
            "tokens": 3902,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/utils/database.py": {
            "lines": 404,
            "tokens": 2257,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/utils/__init__.py": {
            "lines": 8,
            "tokens": 57,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_time_sync.py": {
            "lines": 662,
            "tokens": 5075,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 144,
            "duplicatedTokens": 1398,
            "percentage": 21.75,
            "percentageTokens": 27.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_plugin_registry.py": {
            "lines": 327,
            "tokens": 2051,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_plugin_loader.py": {
            "lines": 582,
            "tokens": 3825,
            "sources": 1,
            "clones": 19,
            "duplicatedLines": 316,
            "duplicatedTokens": 2061,
            "percentage": 54.3,
            "percentageTokens": 53.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_plugin_hot_reload.py": {
            "lines": 359,
            "tokens": 2213,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 256,
            "percentage": 9.47,
            "percentageTokens": 11.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_plugin_discovery.py": {
            "lines": 696,
            "tokens": 4611,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 196,
            "duplicatedTokens": 1296,
            "percentage": 28.16,
            "percentageTokens": 28.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_plugin_compatibility.py": {
            "lines": 809,
            "tokens": 5073,
            "sources": 1,
            "clones": 20,
            "duplicatedLines": 479,
            "duplicatedTokens": 2983,
            "percentage": 59.21,
            "percentageTokens": 58.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_leap_year.py": {
            "lines": 464,
            "tokens": 3692,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/plugins/test_database_features.py": {
            "lines": 242,
            "tokens": 1597,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/performance/test_time_sync_performance.py": {
            "lines": 536,
            "tokens": 3886,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/integration/test_system_security.py": {
            "lines": 582,
            "tokens": 4203,
            "sources": 1,
            "clones": 19,
            "duplicatedLines": 271,
            "duplicatedTokens": 2215,
            "percentage": 46.56,
            "percentageTokens": 52.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/integration/test_system_reliability.py": {
            "lines": 643,
            "tokens": 4869,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 123,
            "duplicatedTokens": 1101,
            "percentage": 19.13,
            "percentageTokens": 22.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/integration/test_system_performance.py": {
            "lines": 580,
            "tokens": 4646,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 129,
            "duplicatedTokens": 1089,
            "percentage": 22.24,
            "percentageTokens": 23.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/integration/test_system_error_recovery.py": {
            "lines": 626,
            "tokens": 4719,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 110,
            "duplicatedTokens": 854,
            "percentage": 17.57,
            "percentageTokens": 18.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/integration/test_end_to_end_workflows.py": {
            "lines": 543,
            "tokens": 4190,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 156,
            "duplicatedTokens": 1166,
            "percentage": 28.73,
            "percentageTokens": 27.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_version.py": {
            "lines": 128,
            "tokens": 917,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_validators.py": {
            "lines": 200,
            "tokens": 1582,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_tool_registry.py": {
            "lines": 287,
            "tokens": 1810,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_tool_loader.py": {
            "lines": 440,
            "tokens": 2956,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 116,
            "duplicatedTokens": 828,
            "percentage": 26.36,
            "percentageTokens": 28.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_tool_lifecycle.py": {
            "lines": 543,
            "tokens": 3911,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_tool_discovery.py": {
            "lines": 547,
            "tokens": 3766,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_tool_base.py": {
            "lines": 160,
            "tokens": 1032,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 32,
            "duplicatedTokens": 187,
            "percentage": 20,
            "percentageTokens": 18.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_time_sync_utils.py": {
            "lines": 465,
            "tokens": 3531,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_time_sync_failure_rules.py": {
            "lines": 515,
            "tokens": 3923,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_security.py": {
            "lines": 164,
            "tokens": 1266,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_rollback_idempotent.py": {
            "lines": 75,
            "tokens": 506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_rollback.py": {
            "lines": 126,
            "tokens": 1007,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_progress_tracker.py": {
            "lines": 128,
            "tokens": 910,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_plugins.py": {
            "lines": 850,
            "tokens": 5515,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 234,
            "percentage": 3.76,
            "percentageTokens": 4.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_plugin_loading_order.py": {
            "lines": 696,
            "tokens": 5193,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_mmap_handler.py": {
            "lines": 74,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_mime_detection.py": {
            "lines": 100,
            "tokens": 779,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_main_cli.py": {
            "lines": 449,
            "tokens": 3030,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_logging.py": {
            "lines": 395,
            "tokens": 2417,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_log_compressor.py": {
            "lines": 57,
            "tokens": 431,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_loader.py": {
            "lines": 646,
            "tokens": 4843,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 212,
            "duplicatedTokens": 2196,
            "percentage": 32.82,
            "percentageTokens": 45.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_limits.py": {
            "lines": 237,
            "tokens": 1516,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_incremental.py": {
            "lines": 342,
            "tokens": 2620,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 192,
            "percentage": 5.85,
            "percentageTokens": 7.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_filesystem.py": {
            "lines": 227,
            "tokens": 1668,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_file_walker.py": {
            "lines": 232,
            "tokens": 1715,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 99,
            "percentage": 3.45,
            "percentageTokens": 5.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_file_processor.py": {
            "lines": 389,
            "tokens": 3045,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 99,
            "percentage": 2.06,
            "percentageTokens": 3.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_file_info.py": {
            "lines": 305,
            "tokens": 2133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_file_hasher.py": {
            "lines": 317,
            "tokens": 2292,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_example_accessible_tool.py": {
            "lines": 370,
            "tokens": 2591,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 55,
            "duplicatedTokens": 401,
            "percentage": 14.86,
            "percentageTokens": 15.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_errors.py": {
            "lines": 248,
            "tokens": 1650,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_deps.py": {
            "lines": 253,
            "tokens": 1614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_database.py": {
            "lines": 995,
            "tokens": 7963,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 66,
            "duplicatedTokens": 640,
            "percentage": 6.63,
            "percentageTokens": 8.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_container.py": {
            "lines": 304,
            "tokens": 2131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_config.py": {
            "lines": 887,
            "tokens": 6910,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 178,
            "duplicatedTokens": 1454,
            "percentage": 20.07,
            "percentageTokens": 21.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_compression_stress.py": {
            "lines": 164,
            "tokens": 1210,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_compression_properties.py": {
            "lines": 82,
            "tokens": 646,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_compression_filesystem.py": {
            "lines": 249,
            "tokens": 1718,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_compression.py": {
            "lines": 89,
            "tokens": 732,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_cli_integration.py": {
            "lines": 523,
            "tokens": 4146,
            "sources": 1,
            "clones": 17,
            "duplicatedLines": 333,
            "duplicatedTokens": 2662,
            "percentage": 63.67,
            "percentageTokens": 64.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_cli_errors.py": {
            "lines": 385,
            "tokens": 2536,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_cli_commands.py": {
            "lines": 296,
            "tokens": 2102,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 72,
            "duplicatedTokens": 643,
            "percentage": 24.32,
            "percentageTokens": 30.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_cli.py": {
            "lines": 249,
            "tokens": 1898,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_archive_handler.py": {
            "lines": 464,
            "tokens": 3839,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 42,
            "duplicatedTokens": 356,
            "percentage": 9.05,
            "percentageTokens": 9.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_api_components.py": {
            "lines": 441,
            "tokens": 3056,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 62,
            "duplicatedTokens": 428,
            "percentage": 14.06,
            "percentageTokens": 14.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_api.py": {
            "lines": 282,
            "tokens": 1914,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/core/test_accessible_base.py": {
            "lines": 262,
            "tokens": 1788,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 73,
            "duplicatedTokens": 514,
            "percentage": 27.86,
            "percentageTokens": 28.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/version.py": {
            "lines": 227,
            "tokens": 1422,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/tools.py": {
            "lines": 18,
            "tokens": 50,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/mime_interface.py": {
            "lines": 41,
            "tokens": 250,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/main.py": {
            "lines": 218,
            "tokens": 1435,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/logging_system.py": {
            "lines": 300,
            "tokens": 1418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/loader.py": {
            "lines": 231,
            "tokens": 1825,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/limits.py": {
            "lines": 506,
            "tokens": 2225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/hasher_interface.py": {
            "lines": 40,
            "tokens": 262,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/errors.py": {
            "lines": 23,
            "tokens": 65,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/deps.py": {
            "lines": 96,
            "tokens": 383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/container.py": {
            "lines": 122,
            "tokens": 668,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/config.py": {
            "lines": 200,
            "tokens": 1196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/archive_interface.py": {
            "lines": 37,
            "tokens": 282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "nodupe/core/__init__.py": {
            "lines": 19,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/verify_plugin_compatibility.py": {
            "lines": 136,
            "tokens": 805,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 27,
            "duplicatedTokens": 170,
            "percentage": 19.85,
            "percentageTokens": 21.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/test_verify_plugin.py": {
            "lines": 59,
            "tokens": 425,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/test_utils.py": {
            "lines": 437,
            "tokens": 3139,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 142,
            "duplicatedTokens": 1123,
            "percentage": 32.49,
            "percentageTokens": 35.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/test_simple_compatibility.py": {
            "lines": 28,
            "tokens": 182,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/test_ipc_socket.py": {
            "lines": 70,
            "tokens": 559,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/test_import.py": {
            "lines": 30,
            "tokens": 188,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/test_hash_autotune.py": {
            "lines": 230,
            "tokens": 1633,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/test_basic.py": {
            "lines": 68,
            "tokens": 448,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/run_tests.py": {
            "lines": 87,
            "tokens": 576,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "tests/conftest.py": {
            "lines": 372,
            "tokens": 2934,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 54078,
          "tokens": 349798,
          "sources": 185,
          "clones": 145,
          "duplicatedLines": 2446,
          "duplicatedTokens": 18938,
          "percentage": 4.52,
          "percentageTokens": 5.41,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "ini": {
        "sources": {
          "docs/config/mypy.ini": {
            "lines": 37,
            "tokens": 129,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 37,
          "tokens": 129,
          "sources": 1,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "markdown": {
        "sources": {
          ".integrity/SHA512SUMS.txt": {
            "lines": 604,
            "tokens": 3070,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 604,
          "tokens": 3070,
          "sources": 1,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 54719,
      "tokens": 352997,
      "sources": 187,
      "clones": 145,
      "duplicatedLines": 2446,
      "duplicatedTokens": 18938,
      "percentage": 4.47,
      "percentageTokens": 5.36,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "python",
      "lines": 14,
      "fragment": "avg = np.mean(resized)\n            bits = ''.join(['1' if pixel > avg else '0' for pixel in resized.flatten()])\n            return hashlib.md5(bits.encode()).hexdigest()\n\n        except Exception as e:\n            logger.error(f\"Error computing perceptual hash: {e}\")\n            return \"\"\n\n    def get_priority(self) -> int:\n        \"\"\"Get backend priority\"\"\"\n        return self.priority\n\n\nclass VideoBackendManager",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/video/__init__.py",
        "start": 280,
        "end": 293,
        "startLoc": {
          "line": 280,
          "column": 13,
          "position": 2148
        },
        "endLoc": {
          "line": 293,
          "column": 20,
          "position": 2269
        }
      },
      "secondFile": {
        "name": "nodupe/tools/video/__init__.py",
        "start": 177,
        "end": 190,
        "startLoc": {
          "line": 177,
          "column": 13,
          "position": 1306
        },
        "endLoc": {
          "line": 190,
          "column": 14,
          "position": 1427
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "@property\n    def version(self) -> str:\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        return []\n\n    @property\n    def api_methods(self) -> Dict[str, Callable[..., Any]]:\n        return {\n            'add_vectors'",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/similarity/__init__.py",
        "start": 496,
        "end": 507,
        "startLoc": {
          "line": 496,
          "column": 5,
          "position": 3383
        },
        "endLoc": {
          "line": 507,
          "column": 14,
          "position": 3472
        }
      },
      "secondFile": {
        "name": "nodupe/tools/video/video_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 177
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": ",\n                'name': os.path.basename(file_path),\n                'extension': os.path.splitext(file_path)[1].lower(),\n                'size': stat.st_size,\n                'modified_time': int(stat.st_mtime),\n                'created_time': int(stat.st_ctime),\n                'is_directory': False,\n                'is_file': True,\n                'is_symlink': os.path.islink(file_path)\n            }",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/scanner_engine/processor.py",
        "start": 243,
        "end": 252,
        "startLoc": {
          "line": 243,
          "column": 2,
          "position": 1337
        },
        "endLoc": {
          "line": 252,
          "column": 2,
          "position": 1435
        }
      },
      "secondFile": {
        "name": "nodupe/tools/scanner_engine/walker.py",
        "start": 142,
        "end": 150,
        "startLoc": {
          "line": 142,
          "column": 14,
          "position": 772
        },
        "endLoc": {
          "line": 150,
          "column": 2,
          "position": 868
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": "try:\n            # Determine number of workers\n            if workers is None:\n                workers = Parallel.get_cpu_count() if use_processes else min(32, len(items))\n\n            # Choose executor based on options\n            if use_interpreters and Parallel.supports_interpreter_pool():\n                try:\n                    from concurrent.futures import InterpreterPoolExecutor\n                    executor_class = InterpreterPoolExecutor\n                except ImportError:\n                    # Fallback to ThreadPoolExecutor if InterpreterPoolExecutor not available\n                    executor_class = ThreadPoolExecutor\n            elif use_processes:\n                executor_class = ProcessPoolExecutor\n            else:\n                executor_class = ThreadPoolExecutor\n\n            # Map in parallel",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/parallel/parallel_logic.py",
        "start": 192,
        "end": 210,
        "startLoc": {
          "line": 192,
          "column": 9,
          "position": 918
        },
        "endLoc": {
          "line": 210,
          "column": 18,
          "position": 1044
        }
      },
      "secondFile": {
        "name": "nodupe/tools/parallel/parallel_logic.py",
        "start": 118,
        "end": 136,
        "startLoc": {
          "line": 118,
          "column": 9,
          "position": 423
        },
        "endLoc": {
          "line": 136,
          "column": 37,
          "position": 549
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": "try:\n            if isinstance(src, str):\n                src = Path(src)\n            if isinstance(dst, str):\n                dst = Path(dst)\n\n            if not src.exists():\n                raise FilesystemError(f\"Source file does not exist: {src}\")\n\n            if dst.exists() and not overwrite:\n                raise FilesystemError(f\"Destination file exists: {dst}\")\n\n            # Ensure destination directory exists\n            dst.parent.mkdir(parents=True, exist_ok=True)\n\n            # Move file",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/os_filesystem/filesystem.py",
        "start": 287,
        "end": 302,
        "startLoc": {
          "line": 287,
          "column": 9,
          "position": 1290
        },
        "endLoc": {
          "line": 302,
          "column": 12,
          "position": 1408
        }
      },
      "secondFile": {
        "name": "nodupe/tools/os_filesystem/filesystem.py",
        "start": 254,
        "end": 269,
        "startLoc": {
          "line": 254,
          "column": 9,
          "position": 1093
        },
        "endLoc": {
          "line": 269,
          "column": 12,
          "position": 1211
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "@property\n    def version(self) -> str:\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        return []\n\n    @property\n    def api_methods(self) -> Dict[str, Callable[..., Any]]:\n        return {\n            'upload_file'",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/network/network_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 14,
          "position": 177
        }
      },
      "secondFile": {
        "name": "nodupe/tools/video/video_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 177
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "@property\n    def version(self) -> str:\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        return []\n\n    @property\n    def api_methods(self) -> Dict[str, Callable[..., Any]]:\n        return {\n            'generate_embeddings'",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/ml/ml_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 22,
          "position": 177
        }
      },
      "secondFile": {
        "name": "nodupe/tools/video/video_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 177
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "@property\n    def version(self) -> str:\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        return []\n\n    @property\n    def api_methods(self) -> Dict[str, Callable[..., Any]]:\n        return {\n            'detect_mime_type'",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/mime/mime_tool.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 86
        },
        "endLoc": {
          "line": 31,
          "column": 19,
          "position": 175
        }
      },
      "secondFile": {
        "name": "nodupe/tools/video/video_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 177
        }
      }
    },
    {
      "format": "python",
      "lines": 26,
      "fragment": "]\n                return True\n            return False\n\n    def invalidate_all(self) -> None:\n        \"\"\"Invalidate all cache entries.\"\"\"\n        with self._lock:\n            # Count the number of entries being cleared\n            num_entries = len(self._cache)\n            self._cache.clear()\n            # Increment evictions by the number of entries that were cleared\n            self._stats['evictions'] += num_entries\n\n    def validate_cache(self) -> int:\n        \"\"\"Validate all cache entries and remove stale ones.\n\n        Returns:\n            Number of entries removed\n        \"\"\"\n        with self._lock:\n            removed_count = 0\n            current_time = time.monotonic()\n\n            # Collect keys to remove\n            keys_to_remove = []\n            for path_str",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/hashing/hash_cache.py",
        "start": 148,
        "end": 173,
        "startLoc": {
          "line": 148,
          "column": 9,
          "position": 740
        },
        "endLoc": {
          "line": 173,
          "column": 9,
          "position": 876
        }
      },
      "secondFile": {
        "name": "nodupe/tools/ml/embedding_cache.py",
        "start": 147,
        "end": 172,
        "startLoc": {
          "line": 147,
          "column": 4,
          "position": 706
        },
        "endLoc": {
          "line": 172,
          "column": 10,
          "position": 842
        }
      }
    },
    {
      "format": "python",
      "lines": 32,
      "fragment": "]\n                removed_count += 1\n\n            return removed_count\n\n    def get_stats(self) -> Dict[str, Any]:\n        \"\"\"Get cache statistics.\n\n        Returns:\n            Dictionary of cache statistics\n        \"\"\"\n        with self._lock:\n            stats = self._stats.copy()\n            stats['size'] = len(self._cache)\n            stats['capacity'] = self.max_size\n            stats['hit_rate'] = (\n                stats['hits'] / (stats['hits'] + stats['misses'])\n                if (stats['hits'] + stats['misses']) > 0\n                else 0.0\n            )\n            return stats\n\n    def get_cache_size(self) -> int:\n        \"\"\"Get current cache size.\n\n        Returns:\n            Number of entries in cache\n        \"\"\"\n        with self._lock:\n            return len(self._cache)\n\n    def is_cached(self, file_path",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/hashing/hash_cache.py",
        "start": 191,
        "end": 222,
        "startLoc": {
          "line": 191,
          "column": 9,
          "position": 1018
        },
        "endLoc": {
          "line": 222,
          "column": 10,
          "position": 1216
        }
      },
      "secondFile": {
        "name": "nodupe/tools/ml/embedding_cache.py",
        "start": 179,
        "end": 210,
        "startLoc": {
          "line": 179,
          "column": 10,
          "position": 912
        },
        "endLoc": {
          "line": 210,
          "column": 4,
          "position": 1110
        }
      }
    },
    {
      "format": "python",
      "lines": 32,
      "fragment": ") is not None\n\n    def cleanup_expired(self) -> int:\n        \"\"\"Remove expired entries from cache.\n\n        Returns:\n            Number of entries removed\n        \"\"\"\n        return self.validate_cache()\n\n    def resize(self, new_max_size: int) -> None:\n        \"\"\"Resize cache and evict excess entries if necessary.\n\n        Args:\n            new_max_size: New maximum cache size\n        \"\"\"\n        with self._lock:\n            self.max_size = new_max_size\n\n            # Remove excess entries from the beginning (LRU)\n            while len(self._cache) > self.max_size:\n                self._cache.popitem(last=False)\n                self._stats['evictions'] += 1\n\n    def get_memory_usage(self) -> int:\n        \"\"\"Get approximate memory usage of cache.\n\n        Returns:\n            Approximate memory usage in bytes\n        \"\"\"\n        with self._lock:\n            # Rough estimate: path string + hash string + timestamps + overhead",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/hashing/hash_cache.py",
        "start": 231,
        "end": 262,
        "startLoc": {
          "line": 231,
          "column": 10,
          "position": 1239
        },
        "endLoc": {
          "line": 262,
          "column": 68,
          "position": 1387
        }
      },
      "secondFile": {
        "name": "nodupe/tools/ml/embedding_cache.py",
        "start": 219,
        "end": 250,
        "startLoc": {
          "line": 219,
          "column": 4,
          "position": 1133
        },
        "endLoc": {
          "line": 250,
          "column": 70,
          "position": 1281
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "@property\n    def version(self) -> str:\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        return []\n\n    @property\n    def api_methods(self) -> Dict[str, Callable[..., Any]]:\n        return {\n            'compute_embeddings'",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/gpu/gpu_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 21,
          "position": 177
        }
      },
      "secondFile": {
        "name": "nodupe/tools/video/video_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 177
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": ")\n            fallback = CPUFallbackBackend()\n            return fallback.matrix_multiply(a, b)\n\n        try:\n            import torch\n\n            a_tensor = torch.tensor(a, dtype=torch.float32).to(self.device)\n            b_tensor = torch.tensor(b, dtype=torch.float32).to(self.device)\n            result = torch.matmul(a_tensor, b_tensor)\n            return result.cpu().numpy().tolist()\n        except Exception as e:\n            logger.error(f\"Error in Metal matrix multiplication: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/gpu/__init__.py",
        "start": 235,
        "end": 247,
        "startLoc": {
          "line": 235,
          "column": 50,
          "position": 1977
        },
        "endLoc": {
          "line": 247,
          "column": 44,
          "position": 2112
        }
      },
      "secondFile": {
        "name": "nodupe/tools/gpu/__init__.py",
        "start": 153,
        "end": 165,
        "startLoc": {
          "line": 153,
          "column": 49,
          "position": 1240
        },
        "endLoc": {
          "line": 165,
          "column": 43,
          "position": 1375
        }
      }
    },
    {
      "format": "python",
      "lines": 32,
      "fragment": "]\n                removed_count += 1\n\n            return removed_count\n\n    def get_stats(self) -> Dict[str, Any]:\n        \"\"\"Get cache statistics.\n\n        Returns:\n            Dictionary of cache statistics\n        \"\"\"\n        with self._lock:\n            stats = self._stats.copy()\n            stats['size'] = len(self._cache)\n            stats['capacity'] = self.max_size\n            stats['hit_rate'] = (\n                stats['hits'] / (stats['hits'] + stats['misses'])\n                if (stats['hits'] + stats['misses']) > 0\n                else 0.0\n            )\n            return stats\n\n    def get_cache_size(self) -> int:\n        \"\"\"Get current cache size.\n\n        Returns:\n            Number of entries in cache\n        \"\"\"\n        with self._lock:\n            return len(self._cache)\n\n    def is_cached(self, query",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/query_cache.py",
        "start": 183,
        "end": 214,
        "startLoc": {
          "line": 183,
          "column": 10,
          "position": 989
        },
        "endLoc": {
          "line": 214,
          "column": 6,
          "position": 1187
        }
      },
      "secondFile": {
        "name": "nodupe/tools/ml/embedding_cache.py",
        "start": 179,
        "end": 210,
        "startLoc": {
          "line": 179,
          "column": 10,
          "position": 912
        },
        "endLoc": {
          "line": 210,
          "column": 4,
          "position": 1110
        }
      }
    },
    {
      "format": "python",
      "lines": 32,
      "fragment": ") is not None\n\n    def cleanup_expired(self) -> int:\n        \"\"\"Remove expired entries from cache.\n\n        Returns:\n            Number of entries removed\n        \"\"\"\n        return self.validate_cache()\n\n    def resize(self, new_max_size: int) -> None:\n        \"\"\"Resize cache and evict excess entries if necessary.\n\n        Args:\n            new_max_size: New maximum cache size\n        \"\"\"\n        with self._lock:\n            self.max_size = new_max_size\n\n            # Remove excess entries from the beginning (LRU)\n            while len(self._cache) > self.max_size:\n                self._cache.popitem(last=False)\n                self._stats['evictions'] += 1\n\n    def get_memory_usage(self) -> int:\n        \"\"\"Get approximate memory usage of cache.\n\n        Returns:\n            Approximate memory usage in bytes\n        \"\"\"\n        with self._lock:\n            # Rough estimate: query_key string + result + timestamp + overhead",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/query_cache.py",
        "start": 224,
        "end": 255,
        "startLoc": {
          "line": 224,
          "column": 7,
          "position": 1232
        },
        "endLoc": {
          "line": 255,
          "column": 67,
          "position": 1380
        }
      },
      "secondFile": {
        "name": "nodupe/tools/ml/embedding_cache.py",
        "start": 219,
        "end": 250,
        "startLoc": {
          "line": 219,
          "column": 4,
          "position": 1133
        },
        "endLoc": {
          "line": 250,
          "column": 70,
          "position": 1281
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": ",)\n            )\n            row = cursor.fetchone()\n            if row:\n                return {\n                    'id': row[0],\n                    'path': row[1],\n                    'size': row[2],\n                    'modified_time': row[3],\n                    'hash': row[8],\n                    'is_duplicate': bool(row[9]),\n                    'duplicate_of': row[10]\n                }\n            return None\n        except Exception as e:\n            print(f\"[ERROR] Failed to get file by path: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 114,
        "end": 129,
        "startLoc": {
          "line": 114,
          "column": 10,
          "position": 456
        },
        "endLoc": {
          "line": 129,
          "column": 42,
          "position": 578
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 84,
        "end": 99,
        "startLoc": {
          "line": 84,
          "column": 8,
          "position": 272
        },
        "endLoc": {
          "line": 99,
          "column": 34,
          "position": 394
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "{\n                    'id': row[0],\n                    'path': row[1],\n                    'size': row[2],\n                    'modified_time': row[3],\n                    'hash': row[8],\n                    'is_duplicate': bool(row[9]),\n                    'duplicate_of': row[10]\n                }\n                for",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 199,
        "end": 208,
        "startLoc": {
          "line": 199,
          "column": 17,
          "position": 974
        },
        "endLoc": {
          "line": 208,
          "column": 4,
          "position": 1052
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 88,
        "end": 97,
        "startLoc": {
          "line": 88,
          "column": 2,
          "position": 298
        },
        "endLoc": {
          "line": 97,
          "column": 7,
          "position": 376
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": ",)\n            )\n            return [\n                {\n                    'id': row[0],\n                    'path': row[1],\n                    'size': row[2],\n                    'modified_time': row[3],\n                    'hash': row[8],\n                    'is_duplicate': bool(row[9]),\n                    'duplicate_of': row[10]\n                }\n                for row in cursor.fetchall()\n            ]\n        except Exception as e:\n            print(f\"[ERROR] Failed to find duplicates by size: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 226,
        "end": 241,
        "startLoc": {
          "line": 226,
          "column": 5,
          "position": 1143
        },
        "endLoc": {
          "line": 241,
          "column": 49,
          "position": 1262
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 196,
        "end": 211,
        "startLoc": {
          "line": 196,
          "column": 11,
          "position": 962
        },
        "endLoc": {
          "line": 211,
          "column": 49,
          "position": 1081
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": ")\n            return [\n                {\n                    'id': row[0],\n                    'path': row[1],\n                    'size': row[2],\n                    'modified_time': row[3],\n                    'hash': row[8],\n                    'is_duplicate': bool(row[9]),\n                    'duplicate_of': row[10]\n                }\n                for row in cursor.fetchall()\n            ]\n        except Exception as e:\n            print(f\"[ERROR] Failed to get all files: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 251,
        "end": 265,
        "startLoc": {
          "line": 251,
          "column": 36,
          "position": 1311
        },
        "endLoc": {
          "line": 265,
          "column": 39,
          "position": 1426
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 197,
        "end": 211,
        "startLoc": {
          "line": 197,
          "column": 13,
          "position": 966
        },
        "endLoc": {
          "line": 211,
          "column": 49,
          "position": 1081
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": ")\n            return [\n                {\n                    'id': row[0],\n                    'path': row[1],\n                    'size': row[2],\n                    'modified_time': row[3],\n                    'hash': row[8],\n                    'is_duplicate': bool(row[9]),\n                    'duplicate_of': row[10]\n                }\n                for row in cursor.fetchall()\n            ]\n        except Exception as e:\n            print(f\"[ERROR] Failed to get duplicate files: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 296,
        "end": 310,
        "startLoc": {
          "line": 296,
          "column": 13,
          "position": 1563
        },
        "endLoc": {
          "line": 310,
          "column": 45,
          "position": 1678
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 197,
        "end": 211,
        "startLoc": {
          "line": 197,
          "column": 13,
          "position": 966
        },
        "endLoc": {
          "line": 211,
          "column": 49,
          "position": 1081
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": ")\n            return [\n                {\n                    'id': row[0],\n                    'path': row[1],\n                    'size': row[2],\n                    'modified_time': row[3],\n                    'hash': row[8],\n                    'is_duplicate': bool(row[9]),\n                    'duplicate_of': row[10]\n                }\n                for row in cursor.fetchall()\n            ]\n        except Exception as e:\n            print(f\"[ERROR] Failed to get original files: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 322,
        "end": 336,
        "startLoc": {
          "line": 322,
          "column": 13,
          "position": 1731
        },
        "endLoc": {
          "line": 336,
          "column": 44,
          "position": 1846
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/files.py",
        "start": 197,
        "end": 211,
        "startLoc": {
          "line": 197,
          "column": 13,
          "position": 966
        },
        "endLoc": {
          "line": 211,
          "column": 49,
          "position": 1081
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": ")\n            )\n            row = cursor.fetchone()\n            if row:\n                return {\n                    'id': row[0],\n                    'file_id': row[1],\n                    'embedding': pickle.loads(row[2]),\n                    'model_version': row[3],\n                    'created_time': row[4]\n                }\n            return None\n        except Exception as e:\n            print(f\"[ERROR] Failed to get embedding by file: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/embeddings.py",
        "start": 112,
        "end": 125,
        "startLoc": {
          "line": 112,
          "column": 14,
          "position": 432
        },
        "endLoc": {
          "line": 125,
          "column": 47,
          "position": 535
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/embeddings.py",
        "start": 83,
        "end": 96,
        "startLoc": {
          "line": 83,
          "column": 2,
          "position": 258
        },
        "endLoc": {
          "line": 96,
          "column": 39,
          "position": 361
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": ",)\n            )\n            return [\n                {\n                    'id': row[0],\n                    'file_id': row[1],\n                    'embedding': pickle.loads(row[2]),\n                    'model_version': row[3],\n                    'created_time': row[4]\n                }\n                for row in cursor.fetchall()\n            ]\n        except Exception as e:\n            print(f\"[ERROR] Failed to get embeddings by model: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/embeddings.py",
        "start": 168,
        "end": 181,
        "startLoc": {
          "line": 168,
          "column": 14,
          "position": 760
        },
        "endLoc": {
          "line": 181,
          "column": 49,
          "position": 861
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/embeddings.py",
        "start": 140,
        "end": 153,
        "startLoc": {
          "line": 140,
          "column": 8,
          "position": 597
        },
        "endLoc": {
          "line": 153,
          "column": 48,
          "position": 698
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": ")\n            return [\n                {\n                    'id': row[0],\n                    'file_id': row[1],\n                    'embedding': pickle.loads(row[2]),\n                    'model_version': row[3],\n                    'created_time': row[4]\n                }\n                for row in cursor.fetchall()\n            ]\n        except Exception as e:\n            print(f\"[ERROR] Failed to get all embeddings: {e}\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/embeddings.py",
        "start": 271,
        "end": 283,
        "startLoc": {
          "line": 271,
          "column": 59,
          "position": 1262
        },
        "endLoc": {
          "line": 283,
          "column": 44,
          "position": 1359
        }
      },
      "secondFile": {
        "name": "nodupe/tools/databases/embeddings.py",
        "start": 141,
        "end": 153,
        "startLoc": {
          "line": 141,
          "column": 13,
          "position": 601
        },
        "endLoc": {
          "line": 153,
          "column": 48,
          "position": 698
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": "@property\n    def version(self) -> str:\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        return []\n\n    @property\n    def metadata(self) -> ToolMetadata:\n        \"\"\"Get tool metadata (ISO 19770-2 compliant).\"\"\"\n        return ToolMetadata(\n            name=self.name,\n            version=self.version,\n            software_id=f\"org.nodupe.tool.{self.name.lower()}\",\n            description=\"SQLite-based permanent storage for file metadata and duplicate records.\"",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/databases/database_tool.py",
        "start": 20,
        "end": 35,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 92
        },
        "endLoc": {
          "line": 35,
          "column": 74,
          "position": 196
        }
      },
      "secondFile": {
        "name": "nodupe/tools/parallel/parallel_tool.py",
        "start": 21,
        "end": 36,
        "startLoc": {
          "line": 21,
          "column": 5,
          "position": 92
        },
        "endLoc": {
          "line": 36,
          "column": 82,
          "position": 196
        }
      }
    },
    {
      "format": "python",
      "lines": 107,
      "fragment": "\"\"\"\nDatabase Sharding Tool\n\nProvides database sharding functionality for horizontal data partitioning.\n\"\"\"\n\nimport sqlite3\nimport os\nfrom typing import List, Optional, Dict, Any\nimport logging\n\nfrom nodupe.core.tool_system import Tool, ToolMetadata\n\n\nlogger = logging.getLogger(__name__)\n\n\nclass DatabaseShardingTool(Tool):\n    \"\"\"\n    Database sharding functionality tool.\n    \"\"\"\n\n    def __init__(self, config: Optional[Dict[str, Any]] = None):\n        \"\"\"TODO: Document __init__.\"\"\"\n        super().__init__()\n        self.config = config or {}\n        self._shards = {}\n        logger.info(\"Database sharding tool initialized\")\n\n    @property\n    def name(self) -> str:\n        \"\"\"TODO: Document name.\"\"\"\n        return \"DatabaseSharding\"\n\n    @property\n    def version(self) -> str:\n        \"\"\"TODO: Document version.\"\"\"\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        \"\"\"TODO: Document dependencies.\"\"\"\n        return []\n\n    def get_capabilities(self) -> dict:\n        \"\"\"TODO: Document get_capabilities.\"\"\"\n        return {\n            \"sharding\": True,\n            \"horizontal_partitioning\": True,\n            \"create_shard\": True,\n        }\n\n    @property\n    def metadata(self) -> ToolMetadata:\n        \"\"\"TODO: Document metadata.\"\"\"\n        return ToolMetadata(\n            name=self.name,\n            version=self.version,\n            description=\"Database sharding functionality for horizontal data partitioning\",\n            author=\"NoDupeLabs\",\n            license=\"Apache-2.0\",\n            dependencies=self.dependencies,\n            tags=[\"database\", \"sharding\", \"partitioning\"]\n        )\n\n    def create_shard(self, shard_name: str, db_path: str = None) -> str:\n        \"\"\"TODO: Document create_shard.\"\"\"\n        if not self._is_valid_identifier(shard_name):\n            raise ValueError(f\"Invalid shard name: {shard_name}\")\n\n        if db_path is None:\n            db_path = os.path.join(os.path.dirname(self.config.get('db_path', '.')), f\"{shard_name}.db\")\n\n        shard_conn = sqlite3.connect(db_path)\n        try:\n            shard_conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS shard_data (\n                    id INTEGER PRIMARY KEY,\n                    key TEXT UNIQUE,\n                    value BLOB,\n                    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n                )\n            \"\"\")\n            shard_conn.commit()\n        finally:\n            shard_conn.close()\n\n        self._shards[shard_name] = db_path\n        logger.info(f\"Created shard '{shard_name}' at {db_path}\")\n        return db_path\n\n    def _is_valid_identifier(self, name: str) -> bool:\n        \"\"\"TODO: Document _is_valid_identifier.\"\"\"\n        return bool(name and name.replace('_', '').replace('-', '').isalnum()\n                   and not name.startswith('_') and len(name) <= 64)\n\n    def list_shards(self) -> List[str]:\n        \"\"\"TODO: Document list_shards.\"\"\"\n        return list(self._shards.keys())\n\n    def initialize(self, container: Any) -> None:\n        \"\"\"TODO: Document initialize.\"\"\"\n        logger.info(\"Database sharding tool initialized\")\n\n    def shutdown(self, container: Any) -> None:\n        \"\"\"TODO: Document shutdown.\"\"\"\n        logger.info(\"Database sharding tool shutdown\")",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/database/features.py",
        "start": 1,
        "end": 107,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 107,
          "column": 2,
          "position": 713
        }
      },
      "secondFile": {
        "name": "nodupe/tools/database/sharding.py",
        "start": 1,
        "end": 107,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 107,
          "column": 2,
          "position": 713
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "@property\n    def version(self) -> str:\n        return \"1.0.0\"\n\n    @property\n    def dependencies(self) -> List[str]:\n        return []\n\n    @property\n    def api_methods(self) -> Dict[str, Callable[..., Any]]:\n        return {\n            'extract_archive'",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/tools/archive/archive_tool.py",
        "start": 21,
        "end": 32,
        "startLoc": {
          "line": 21,
          "column": 5,
          "position": 97
        },
        "endLoc": {
          "line": 32,
          "column": 18,
          "position": 186
        }
      },
      "secondFile": {
        "name": "nodupe/tools/video/video_plugin.py",
        "start": 20,
        "end": 31,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 88
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 177
        }
      }
    },
    {
      "format": "python",
      "lines": 6,
      "fragment": "def decorator(func: Callable[..., Any]) -> Callable[..., Any]:\n        @functools.wraps(func)\n        def wrapper(*args: Any, **kwargs: Any) -> Any:\n            return func(*args, **kwargs)\n        return wrapper\n    return decorator",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/core/api/validation.py",
        "start": 82,
        "end": 87,
        "startLoc": {
          "line": 82,
          "column": 5,
          "position": 775
        },
        "endLoc": {
          "line": 87,
          "column": 10,
          "position": 861
        }
      },
      "secondFile": {
        "name": "nodupe/core/api/validation.py",
        "start": 72,
        "end": 77,
        "startLoc": {
          "line": 72,
          "column": 5,
          "position": 635
        },
        "endLoc": {
          "line": 77,
          "column": 10,
          "position": 721
        }
      }
    },
    {
      "format": "python",
      "lines": 9,
      "fragment": "def decorator(func: Callable[..., Any]) -> Callable[..., Any]:\n        @functools.wraps(func)\n        def wrapper(*args: Any, **kwargs: Any) -> Any:\n            return func(*args, **kwargs)\n        return wrapper\n    return decorator\n\n\ndef cors",
      "tokens": 0,
      "firstFile": {
        "name": "nodupe/core/api/decorators.py",
        "start": 17,
        "end": 25,
        "startLoc": {
          "line": 17,
          "column": 5,
          "position": 97
        },
        "endLoc": {
          "line": 25,
          "column": 5,
          "position": 189
        }
      },
      "secondFile": {
        "name": "nodupe/core/api/validation.py",
        "start": 72,
        "end": 80,
        "startLoc": {
          "line": 72,
          "column": 5,
          "position": 635
        },
        "endLoc": {
          "line": 80,
          "column": 18,
          "position": 727
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": "}\n            },\n            \"schema\": {\n                \"type\": \"dict\",\n                \"properties\": {\n                    \"database\": {\n                        \"type\": \"dict\",\n                        \"required\": [\"host\", \"port\", \"username\", \"PASSWORD_REMOVED\"],\n                        \"properties\": {\n                            \"host\": {\"type\": \"str\"},\n                            \"port\": {\"type\": \"int\", \"min\": 1, \"max\": 65535},\n                            \"username\": {\"type\": \"str\"},\n                            \"PASSWORD_REMOVED\": {\"type\": \"str\"}\n                        }\n                    }\n                }",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 127,
        "end": 142,
        "startLoc": {
          "line": 127,
          "column": 17,
          "position": 961
        },
        "endLoc": {
          "line": 142,
          "column": 2,
          "position": 1089
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 92,
        "end": 106,
        "startLoc": {
          "line": 92,
          "column": 17,
          "position": 702
        },
        "endLoc": {
          "line": 106,
          "column": 2,
          "position": 828
        }
      }
    },
    {
      "format": "python",
      "lines": 27,
      "fragment": ",\n            \"schema\": {\n                \"type\": \"dict\",\n                \"required\": [\"status\", \"data\", \"timestamp\"],\n                \"properties\": {\n                    \"status\": {\"type\": \"str\", \"pattern\": \"^(success|error|warning)$\"},\n                    \"data\": {\n                        \"type\": \"dict\",\n                        \"required\": [\"users\"],\n                        \"properties\": {\n                            \"users\": {\n                                \"type\": \"list\",\n                                \"items\": {\n                                    \"type\": \"dict\",\n                                    \"required\": [\"id\", \"name\"],\n                                    \"properties\": {\n                                        \"id\": {\"type\": \"int\", \"min\": 1},\n                                        \"name\": {\"type\": \"str\"}\n                                    }\n                                }\n                            }\n                        }\n                    },\n                    \"timestamp\": {\"type\": \"str\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$\"}\n                }\n            },\n            \"expected_result\": False",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 285,
        "end": 311,
        "startLoc": {
          "line": 285,
          "column": 16,
          "position": 1740
        },
        "endLoc": {
          "line": 311,
          "column": 6,
          "position": 1939
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 246,
        "end": 272,
        "startLoc": {
          "line": 246,
          "column": 16,
          "position": 1520
        },
        "endLoc": {
          "line": 272,
          "column": 5,
          "position": 1719
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": ": {\n                \"users\": {\n                    \"columns\": {\n                        \"id\": {\"type\": \"INTEGER\", \"constraints\": [\"PRIMARY KEY\"]},\n                        \"name\": {\"type\": \"TEXT\", \"constraints\": [\"NOT NULL\"]},\n                        \"email\": {\"type\": \"TEXT\", \"constraints\": [\"UNIQUE\"]}\n                    }\n                },\n                \"posts\": {\n                    \"columns\": {\n                        \"id\": {\"type\": \"INTEGER\", \"constraints\": [\"PRIMARY KEY\"]},\n                        \"user_id\": {\"type\": \"INTEGER\", \"constraints\": [\"FOREIGN KEY\"]},\n                        \"title\": {\"type\": \"TEXT\"},\n                        \"content\": {\"type\": \"TEXT\"}\n                    }\n                }\n            },\n            \"expected_result\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 386,
        "end": 403,
        "startLoc": {
          "line": 386,
          "column": 18,
          "position": 2442
        },
        "endLoc": {
          "line": 403,
          "column": 18,
          "position": 2610
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 369,
        "end": 386,
        "startLoc": {
          "line": 369,
          "column": 18,
          "position": 2273
        },
        "endLoc": {
          "line": 386,
          "column": 18,
          "position": 2441
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "}\n                }\n            },\n            \"expected_schema\": {\n                \"users\": {\n                    \"columns\": {\n                        \"id\": {\"type\": \"INTEGER\", \"constraints\": [\"PRIMARY KEY\"]},\n                        \"name\": {\"type\": \"TEXT\", \"constraints\": [\"NOT NULL\"]},\n                        \"email\": {\"type\": \"TEXT\", \"constraints\": [\"UNIQUE\"]}\n                    }\n                }\n            }",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 413,
        "end": 424,
        "startLoc": {
          "line": 413,
          "column": 21,
          "position": 2682
        },
        "endLoc": {
          "line": 424,
          "column": 2,
          "position": 2775
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 383,
        "end": 376,
        "startLoc": {
          "line": 383,
          "column": 21,
          "position": 2431
        },
        "endLoc": {
          "line": 376,
          "column": 2,
          "position": 2353
        }
      }
    },
    {
      "format": "python",
      "lines": 23,
      "fragment": "},\n            \"expected_schema\": {\n                \"type\": \"dict\",\n                \"required\": [\"status\", \"code\", \"data\", \"timestamp\"],\n                \"properties\": {\n                    \"status\": {\"type\": \"str\", \"pattern\": \"^(success|error|warning)$\"},\n                    \"code\": {\"type\": \"int\", \"min\": 200, \"max\": 599},\n                    \"data\": {\n                        \"type\": \"dict\",\n                        \"required\": [\"items\", \"pagination\"],\n                        \"properties\": {\n                            \"items\": {\n                                \"type\": \"list\",\n                                \"items\": {\n                                    \"type\": \"dict\",\n                                    \"required\": [\"id\", \"name\"],\n                                    \"properties\": {\n                                        \"id\": {\"type\": \"int\", \"min\": 1},\n                                        \"name\": {\"type\": \"str\"}\n                                    }\n                                }\n                            }\n                        }",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 630,
        "end": 652,
        "startLoc": {
          "line": 630,
          "column": 13,
          "position": 4143
        },
        "endLoc": {
          "line": 652,
          "column": 2,
          "position": 4339
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 582,
        "end": 603,
        "startLoc": {
          "line": 582,
          "column": 13,
          "position": 3740
        },
        "endLoc": {
          "line": 603,
          "column": 2,
          "position": 3934
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": ": {\n                \"type\": \"dict\",\n                \"properties\": {\n                    \"database\": {\n                        \"type\": \"dict\",\n                        \"required\": [\"host\", \"port\", \"username\", \"PASSWORD_REMOVED\"],\n                        \"properties\": {\n                            \"host\": {\"type\": \"str\"},\n                            \"port\": {\"type\": \"int\", \"min\": 1, \"max\": 65535},\n                            \"username\": {\"type\": \"str\"},\n                            \"PASSWORD_REMOVED\": {\"type\": \"str\"}\n                        }\n                    },\n                    \"logging\": {\n                        \"type\": \"dict\",\n                        \"properties\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 729,
        "end": 744,
        "startLoc": {
          "line": 729,
          "column": 21,
          "position": 4602
        },
        "endLoc": {
          "line": 744,
          "column": 13,
          "position": 4736
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 94,
        "end": 109,
        "startLoc": {
          "line": 94,
          "column": 9,
          "position": 710
        },
        "endLoc": {
          "line": 109,
          "column": 11,
          "position": 844
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "}\n            ],\n            \"expected_structure\": {\n                \"type\": \"dict\",\n                \"properties\": {\n                    \"database\": {\n                        \"type\": \"dict\",\n                        \"required\": [\"host\", \"port\", \"username\", \"PASSWORD_REMOVED\"],\n                        \"properties\": {\n                            \"host\": {\"type\": \"str\"},\n                            \"port\": {\"type\": \"int\", \"min\": 1, \"max\": 65535},\n                            \"username\": {\"type\": \"str\"},\n                            \"PASSWORD_REMOVED\": {\"type\": \"str\"}\n                        }\n                    }\n                }\n            }\n        }",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 770,
        "end": 787,
        "startLoc": {
          "line": 770,
          "column": 17,
          "position": 4839
        },
        "endLoc": {
          "line": 787,
          "column": 2,
          "position": 4973
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 727,
        "end": 143,
        "startLoc": {
          "line": 727,
          "column": 17,
          "position": 4594
        },
        "endLoc": {
          "line": 143,
          "column": 2,
          "position": 1093
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "}\n            },\n            \"validation_rules\": [\n                {\"field\": \"id\", \"type\": \"range\", \"min\": 1, \"max\": 1000, \"required\": True},\n                {\"field\": \"username\", \"type\": \"pattern\", \"pattern\": \"^[a-z_]+$\", \"required\": True},\n                {\"field\": \"email\", \"type\": \"pattern\", \"pattern\": \"^[^@]+@[^@]+\\\\.[^@]+$\", \"required\": True},\n                {\"field\": \"status\", \"type\": \"enum\", \"values\": [\"active\", \"inactive\", \"suspended\"], \"required\": True},\n                {\"field\": \"age\", \"type\": \"range\", \"min\": 18, \"max\": 120}\n            ],\n            \"expected_result\": False",
      "tokens": 0,
      "firstFile": {
        "name": "tests/utils/validation.py",
        "start": 897,
        "end": 906,
        "startLoc": {
          "line": 897,
          "column": 17,
          "position": 5757
        },
        "endLoc": {
          "line": 906,
          "column": 6,
          "position": 5925
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 877,
        "end": 886,
        "startLoc": {
          "line": 877,
          "column": 17,
          "position": 5516
        },
        "endLoc": {
          "line": 886,
          "column": 5,
          "position": 5684
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "# Mock DNS resolution\n        mock_getaddrinfo.return_value = [\n            (socket.AF_INET, socket.SOCK_DGRAM, 17, '', ('1.1.1.1', 123))\n        ]\n        \n        # Mock NTP response\n        server_time = 1600000000.5\n        offset = 0.25\n        delay = 0.01\n        mock_query_address.return_value = (server_time, offset, delay)\n        \n        tool = TimeSyncTool(servers=[\"test.ntp.com\"], enabled=True, allow_network=True)\n        \n        result = tool.maybe_sync",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 245,
        "end": 258,
        "startLoc": {
          "line": 245,
          "column": 9,
          "position": 1785
        },
        "endLoc": {
          "line": 258,
          "column": 11,
          "position": 1903
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 181,
        "end": 194,
        "startLoc": {
          "line": 181,
          "column": 9,
          "position": 1254
        },
        "endLoc": {
          "line": 194,
          "column": 11,
          "position": 1372
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "# Mock DNS resolution\n        mock_getaddrinfo.return_value = [\n            (socket.AF_INET, socket.SOCK_DGRAM, 17, '', ('1.1.1.1', 123))\n        ]\n        \n        # Mock NTP response\n        server_time = 1600000000.5\n        offset = 0.25\n        delay = 0.01\n        mock_query_address.return_value = (server_time, offset, delay)\n        \n        tool = TimeSyncTool(servers=[\"test.ntp.com\"], enabled=True, allow_network=True)\n        tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 339,
        "end": 351,
        "startLoc": {
          "line": 339,
          "column": 9,
          "position": 2489
        },
        "endLoc": {
          "line": 351,
          "column": 5,
          "position": 2599
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 181,
        "end": 194,
        "startLoc": {
          "line": 181,
          "column": 9,
          "position": 1254
        },
        "endLoc": {
          "line": 194,
          "column": 7,
          "position": 1366
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "tool = TimeSyncTool(enabled=True)\n        \n        # Mock sync_with_fallback to return a known time\n        with patch.object(tool, 'sync_with_fallback') as mock_sync, \\\n             patch.object(tool, 'get_corrected_time') as mock_get_time:\n            \n            mock_sync.return_value = (\"ntp\", 1600000000.0, 0.0, 0.01)\n            mock_get_time.return_value = 1600000000.123456\n            \n            result = tool.get_authenticated_time(format",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 460,
        "end": 469,
        "startLoc": {
          "line": 460,
          "column": 9,
          "position": 3425
        },
        "endLoc": {
          "line": 469,
          "column": 7,
          "position": 3519
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 443,
        "end": 452,
        "startLoc": {
          "line": 443,
          "column": 9,
          "position": 3290
        },
        "endLoc": {
          "line": 452,
          "column": 2,
          "position": 3384
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "tool = TimeSyncTool(enabled=True)\n        \n        # Mock sync_with_fallback to return a known time\n        with patch.object(tool, 'sync_with_fallback') as mock_sync, \\\n             patch.object(tool, 'get_corrected_time') as mock_get_time:\n            \n            mock_sync.return_value = (\"ntp\", 1600000000.0, 0.0, 0.01)\n            mock_get_time.return_value = 1600000000.123456\n            \n            result = tool.get_authenticated_time(format=\"rfc3339\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 477,
        "end": 486,
        "startLoc": {
          "line": 477,
          "column": 9,
          "position": 3563
        },
        "endLoc": {
          "line": 486,
          "column": 10,
          "position": 3659
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 443,
        "end": 469,
        "startLoc": {
          "line": 443,
          "column": 9,
          "position": 3290
        },
        "endLoc": {
          "line": 469,
          "column": 7,
          "position": 3521
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "tool = TimeSyncTool(enabled=True)\n        \n        # Mock sync_with_fallback to return a known time\n        with patch.object(tool, 'sync_with_fallback') as mock_sync, \\\n             patch.object(tool, 'get_corrected_time') as mock_get_time:\n            \n            mock_sync.return_value = (\"ntp\", 1600000000.0, 0.0, 0.01)\n            mock_get_time.return_value = 1600000000.123456\n            \n            result = tool.get_authenticated_time(format=\"human\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 493,
        "end": 502,
        "startLoc": {
          "line": 493,
          "column": 9,
          "position": 3690
        },
        "endLoc": {
          "line": 502,
          "column": 8,
          "position": 3786
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 443,
        "end": 469,
        "startLoc": {
          "line": 443,
          "column": 9,
          "position": 3290
        },
        "endLoc": {
          "line": 469,
          "column": 7,
          "position": 3521
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "tool = TimeSyncTool(enabled=True)\n        \n        # Mock sync_with_fallback to return a known time\n        with patch.object(tool, 'sync_with_fallback') as mock_sync, \\\n             patch.object(tool, 'get_corrected_time') as mock_get_time:\n            \n            mock_sync.return_value = (\"ntp\", 1600000000.0, 0.0, 0.01)\n            mock_get_time.return_value = 1600000000.123456\n            \n            result = tool.get_authenticated_time()\n            \n            # Should end with Z (UTC indicator)",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 595,
        "end": 606,
        "startLoc": {
          "line": 595,
          "column": 9,
          "position": 4461
        },
        "endLoc": {
          "line": 606,
          "column": 36,
          "position": 4560
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 443,
        "end": 454,
        "startLoc": {
          "line": 443,
          "column": 9,
          "position": 3290
        },
        "endLoc": {
          "line": 454,
          "column": 32,
          "position": 3389
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "tool = TimeSyncTool(enabled=True)\n        \n        # Mock sync_with_fallback to return a known time\n        with patch.object(tool, 'sync_with_fallback') as mock_sync, \\\n             patch.object(tool, 'get_corrected_time') as mock_get_time:\n            \n            mock_sync.return_value = (\"ntp\", 1600000000.0, 0.0, 0.01)\n            mock_get_time.return_value = 1600000000.123456\n            \n            # Test various case combinations",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 637,
        "end": 646,
        "startLoc": {
          "line": 637,
          "column": 9,
          "position": 4803
        },
        "endLoc": {
          "line": 646,
          "column": 33,
          "position": 4889
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_time_sync.py",
        "start": 443,
        "end": 452,
        "startLoc": {
          "line": 443,
          "column": 9,
          "position": 3290
        },
        "endLoc": {
          "line": 452,
          "column": 7,
          "position": 3376
        }
      }
    },
    {
      "format": "python",
      "lines": 24,
      "fragment": "registry = ToolRegistry()\n        loader = ToolLoader(registry)\n\n        # Create a test tool\n        class TestTool(Tool):\n            def __init__(self):\n                self.name = \"test_tool\"\n                self.version = \"1.0.0\"\n                self.dependencies = []\n                self.initialized = False\n                self.shutdown_called = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                self.shutdown_called = True\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Load tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 134,
        "end": 157,
        "startLoc": {
          "line": 134,
          "column": 9,
          "position": 895
        },
        "endLoc": {
          "line": 157,
          "column": 12,
          "position": 1054
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 68,
        "end": 91,
        "startLoc": {
          "line": 68,
          "column": 9,
          "position": 436
        },
        "endLoc": {
          "line": 91,
          "column": 15,
          "position": 595
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "self.version = \"1.0.0\"\n                    self.dependencies = []\n                    self.initialized = False\n\n                def initialize(self, container):\n                    self.initialized = True\n\n                def shutdown(self):\n                    pass\n\n                def get_capabilities(self):\n                    return {\"test\": True}\n\n            test_tool = TestTool(i",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 215,
        "end": 228,
        "startLoc": {
          "line": 215,
          "column": 21,
          "position": 1438
        },
        "endLoc": {
          "line": 228,
          "column": 2,
          "position": 1528
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 174,
        "end": 187,
        "startLoc": {
          "line": 174,
          "column": 17,
          "position": 1166
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1256
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": "self.version = \"1.0.0\"\n                self.dependencies = []\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Should raise an error or handle gracefully",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 252,
        "end": 267,
        "startLoc": {
          "line": 252,
          "column": 17,
          "position": 1672
        },
        "endLoc": {
          "line": 267,
          "column": 45,
          "position": 1766
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 174,
        "end": 189,
        "startLoc": {
          "line": 174,
          "column": 17,
          "position": 1166
        },
        "endLoc": {
          "line": 189,
          "column": 12,
          "position": 1260
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": "self.version = \"1.0.0\"\n                self.dependencies = []\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Should handle gracefully",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 280,
        "end": 295,
        "startLoc": {
          "line": 280,
          "column": 17,
          "position": 1858
        },
        "endLoc": {
          "line": 295,
          "column": 27,
          "position": 1952
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 174,
        "end": 189,
        "startLoc": {
          "line": 174,
          "column": 17,
          "position": 1166
        },
        "endLoc": {
          "line": 189,
          "column": 12,
          "position": 1260
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": "class TestTool(Tool):\n            def __init__(self):\n                self.name = \"test_tool\"\n                self.version = \"1.0.0\"\n                self.dependencies = []\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Try to unload tool that wasn't loaded",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 343,
        "end": 361,
        "startLoc": {
          "line": 343,
          "column": 9,
          "position": 2266
        },
        "endLoc": {
          "line": 361,
          "column": 40,
          "position": 2387
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 171,
        "end": 189,
        "startLoc": {
          "line": 171,
          "column": 9,
          "position": 1139
        },
        "endLoc": {
          "line": 189,
          "column": 12,
          "position": 1260
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "self.version = \"1.0.0\"\n                    self.dependencies = []\n                    self.initialized = False\n\n                def initialize(self, container):\n                    self.initialized = True\n\n                def shutdown(self):\n                    pass\n\n                def get_capabilities(self):\n                    return {\"test\": True}\n\n            test_tool = TestTool(i)\n            tools.append(test_tool)\n            loader.load_tool(test_tool)\n\n        # Verify all tools are loaded",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 380,
        "end": 397,
        "startLoc": {
          "line": 380,
          "column": 21,
          "position": 2509
        },
        "endLoc": {
          "line": 397,
          "column": 30,
          "position": 2620
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 174,
        "end": 232,
        "startLoc": {
          "line": 174,
          "column": 17,
          "position": 1166
        },
        "endLoc": {
          "line": 232,
          "column": 23,
          "position": 1549
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": "self.version = \"1.0.0\"\n                    self.dependencies = []\n                    self.initialized = False\n\n                def initialize(self, container):\n                    self.initialized = True\n\n                def shutdown(self):\n                    pass\n\n                def get_capabilities(self):\n                    return {\"test\": True}\n\n            test_tool = TestTool(i)\n            loader",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 417,
        "end": 431,
        "startLoc": {
          "line": 417,
          "column": 21,
          "position": 2767
        },
        "endLoc": {
          "line": 431,
          "column": 7,
          "position": 2861
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 174,
        "end": 229,
        "startLoc": {
          "line": 174,
          "column": 17,
          "position": 1166
        },
        "endLoc": {
          "line": 229,
          "column": 6,
          "position": 1532
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "self.version = \"1.0.0\"\n                self.dependencies = []\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Load tool\n        loaded_tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 457,
        "end": 473,
        "startLoc": {
          "line": 457,
          "column": 17,
          "position": 3036
        },
        "endLoc": {
          "line": 473,
          "column": 12,
          "position": 3133
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 174,
        "end": 190,
        "startLoc": {
          "line": 174,
          "column": 17,
          "position": 1166
        },
        "endLoc": {
          "line": 190,
          "column": 7,
          "position": 1263
        }
      }
    },
    {
      "format": "python",
      "lines": 20,
      "fragment": "self.version = \"1.0.0\"\n                self.dependencies = []\n                self.initialized = False\n                self.shutdown_called = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                self.shutdown_called = True\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Load tool\n        loaded_tool = loader.load_tool(test_tool)\n\n        # Initialize through lifecycle manager",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 491,
        "end": 510,
        "startLoc": {
          "line": 491,
          "column": 17,
          "position": 3259
        },
        "endLoc": {
          "line": 510,
          "column": 39,
          "position": 3384
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 75,
        "end": 159,
        "startLoc": {
          "line": 75,
          "column": 17,
          "position": 486
        },
        "endLoc": {
          "line": 159,
          "column": 7,
          "position": 1069
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "hot_reload = ToolHotReload()\n\n        # Watch multiple tools\n        tools = [\n            (\"tool1\", Path(\"/test/tool1.py\")),\n            (\"tool2\", Path(\"/test/tool2.py\")),\n            (\"tool3\", Path(\"/test/tool3.py\"))\n        ]\n\n        for name, path in tools:\n            hot_reload.watch_tool(name, path)\n\n        # Verify all tools are being watched\n        for name, path in tools:\n            assert name in hot_reload._watched_tools\n            assert hot_reload._watched_tools[name] == path\n\n    def test_hot_reload_with_conditional_watching",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_hot_reload.py",
        "start": 294,
        "end": 311,
        "startLoc": {
          "line": 294,
          "column": 9,
          "position": 1704
        },
        "endLoc": {
          "line": 311,
          "column": 42,
          "position": 1832
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_hot_reload.py",
        "start": 74,
        "end": 91,
        "startLoc": {
          "line": 74,
          "column": 9,
          "position": 448
        },
        "endLoc": {
          "line": 91,
          "column": 22,
          "position": 576
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": "discovery = ToolDiscovery()\n\n        # Add some discovered tools\n        tool1 = ToolInfo(\n            name=\"tool1\",\n            version=\"1.0.0\",\n            file_path=Path(\"/test/tool1.py\"),\n            dependencies=[],\n            capabilities={})\n        tool2 = ToolInfo(\n            name=\"tool2\",\n            version=\"1.0.0\",\n            file_path=Path(\"/test/tool2.py\"),\n            dependencies=[],\n            capabilities={})\n\n        discovery._discovered_tools = [tool1, tool2]\n\n        # Get all discovered tools",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 192,
        "end": 210,
        "startLoc": {
          "line": 192,
          "column": 9,
          "position": 1290
        },
        "endLoc": {
          "line": 210,
          "column": 27,
          "position": 1405
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 164,
        "end": 182,
        "startLoc": {
          "line": 164,
          "column": 9,
          "position": 1113
        },
        "endLoc": {
          "line": 182,
          "column": 20,
          "position": 1228
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": "discovery = ToolDiscovery()\n\n        # Add some discovered tools\n        tool1 = ToolInfo(\n            name=\"tool1\",\n            version=\"1.0.0\",\n            file_path=Path(\"/test/tool1.py\"),\n            dependencies=[],\n            capabilities={})\n        tool2 = ToolInfo(\n            name=\"tool2\",\n            version=\"1.0.0\",\n            file_path=Path(\"/test/tool2.py\"),\n            dependencies=[],\n            capabilities={})\n\n        discovery._discovered_tools = [tool1, tool2]\n\n        # Get specific tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 218,
        "end": 236,
        "startLoc": {
          "line": 218,
          "column": 9,
          "position": 1462
        },
        "endLoc": {
          "line": 236,
          "column": 20,
          "position": 1577
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 164,
        "end": 182,
        "startLoc": {
          "line": 164,
          "column": 9,
          "position": 1113
        },
        "endLoc": {
          "line": 182,
          "column": 20,
          "position": 1228
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": "discovery = ToolDiscovery()\n\n        # Add some discovered tools\n        tool1 = ToolInfo(\n            name=\"tool1\",\n            version=\"1.0.0\",\n            file_path=Path(\"/test/tool1.py\"),\n            dependencies=[],\n            capabilities={})\n        tool2 = ToolInfo(\n            name=\"tool2\",\n            version=\"1.0.0\",\n            file_path=Path(\"/test/tool2.py\"),\n            dependencies=[],\n            capabilities={})\n\n        discovery._discovered_tools = [tool1, tool2]\n\n        # Check discovered tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 246,
        "end": 264,
        "startLoc": {
          "line": 246,
          "column": 9,
          "position": 1639
        },
        "endLoc": {
          "line": 264,
          "column": 24,
          "position": 1754
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 164,
        "end": 182,
        "startLoc": {
          "line": 164,
          "column": 9,
          "position": 1113
        },
        "endLoc": {
          "line": 182,
          "column": 20,
          "position": 1228
        }
      }
    },
    {
      "format": "python",
      "lines": 23,
      "fragment": "):\n            mock_file = MagicMock()\n            mock_file.is_file.return_value = True\n            mock_file.suffix = '.py'\n            mock_file.stem = f'tool_{i}'\n            mock_file.exists.return_value = True\n            mock_file.stat.return_value.st_size = 100\n            mock_files.append(mock_file)\n        \n        mock_dir.iterdir.return_value = mock_files\n\n        # Mock the discovery process\n        with patch.object(discovery, '_extract_tool_info') as mock_extract:\n            mock_extract.return_value = ToolInfo(\n                name=\"test_tool\",\n                version=\"1.0.0\",\n                file_path=Path(\"/test/tool.py\"),\n                dependencies=[],\n                capabilities={}\n            )\n\n            with patch('builtins.open', MagicMock()):\n                # Test discovery performance",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 409,
        "end": 431,
        "startLoc": {
          "line": 409,
          "column": 5,
          "position": 2712
        },
        "endLoc": {
          "line": 431,
          "column": 29,
          "position": 2884
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 371,
        "end": 393,
        "startLoc": {
          "line": 371,
          "column": 4,
          "position": 2441
        },
        "endLoc": {
          "line": 393,
          "column": 7,
          "position": 2613
        }
      }
    },
    {
      "format": "python",
      "lines": 23,
      "fragment": ")\n\n        # Mock discovery of tools\n        with patch.object(discovery, 'discover_tools_in_directory') as mock_discover:\n            tool_info = ToolInfo(\n                name=\"test_tool\",\n                version=\"1.0.0\",\n                file_path=Path(\"/test/tool.py\"),\n                dependencies=[],\n                capabilities={}\n            )\n            mock_discover.return_value = [tool_info]\n\n            # Discover tools\n            discovered_tools = discovery.discover_tools_in_directory(\n                Path(\"/test\"))\n\n            # Verify integration\n            assert len(discovered_tools) == 1\n            assert discovered_tools[0] is tool_info\n\n\nclass",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 473,
        "end": 495,
        "startLoc": {
          "line": 473,
          "column": 9,
          "position": 3169
        },
        "endLoc": {
          "line": 495,
          "column": 6,
          "position": 3300
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_discovery.py",
        "start": 446,
        "end": 467,
        "startLoc": {
          "line": 446,
          "column": 2,
          "position": 2985
        },
        "endLoc": {
          "line": 467,
          "column": 4,
          "position": 3116
        }
      }
    },
    {
      "format": "python",
      "lines": 31,
      "fragment": "compatibility = ToolCompatibility()\n\n        # Create a test tool\n        class TestTool(Tool):\n            @property\n            def name(self) -> str:\n                return \"test_tool\"\n\n            @property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return [\"core>=1.0.0\"]\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Get compatibility report",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 104,
        "end": 134,
        "startLoc": {
          "line": 104,
          "column": 9,
          "position": 638
        },
        "endLoc": {
          "line": 134,
          "column": 27,
          "position": 821
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 62,
        "end": 92,
        "startLoc": {
          "line": 62,
          "column": 9,
          "position": 374
        },
        "endLoc": {
          "line": 92,
          "column": 22,
          "position": 557
        }
      }
    },
    {
      "format": "python",
      "lines": 21,
      "fragment": "@property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return [\"core>=1.0.0\"]\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        compatible_tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 156,
        "end": 176,
        "startLoc": {
          "line": 156,
          "column": 13,
          "position": 966
        },
        "endLoc": {
          "line": 176,
          "column": 16,
          "position": 1093
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 70,
        "end": 90,
        "startLoc": {
          "line": 70,
          "column": 13,
          "position": 420
        },
        "endLoc": {
          "line": 90,
          "column": 10,
          "position": 547
        }
      }
    },
    {
      "format": "python",
      "lines": 21,
      "fragment": "@property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return []\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        empty_name_tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 271,
        "end": 291,
        "startLoc": {
          "line": 271,
          "column": 13,
          "position": 1685
        },
        "endLoc": {
          "line": 291,
          "column": 16,
          "position": 1811
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 234,
        "end": 254,
        "startLoc": {
          "line": 234,
          "column": 13,
          "position": 1452
        },
        "endLoc": {
          "line": 254,
          "column": 13,
          "position": 1578
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "@property\n            def dependencies(self) -> List[str]:\n                return []\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        invalid_version_tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 313,
        "end": 329,
        "startLoc": {
          "line": 313,
          "column": 13,
          "position": 1957
        },
        "endLoc": {
          "line": 329,
          "column": 21,
          "position": 2059
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 238,
        "end": 254,
        "startLoc": {
          "line": 238,
          "column": 13,
          "position": 1476
        },
        "endLoc": {
          "line": 254,
          "column": 13,
          "position": 1578
        }
      }
    },
    {
      "format": "python",
      "lines": 24,
      "fragment": "@property\n                def version(self) -> str:\n                    return \"1.0.0\"\n\n                @property\n                def dependencies(self) -> List[str]:\n                    return [\"core>=1.0.0\"]\n\n                def __init__(self, tool_id):\n                    self.initialized = False\n\n                def initialize(self, container):\n                    self.initialized = True\n\n                def shutdown(self):\n                    pass\n\n                def get_capabilities(self):\n                    return {\"test\": True}\n\n            test_tool = TestTool(i)\n            tools.append(test_tool)\n\n        # Test compatibility checking performance",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 426,
        "end": 449,
        "startLoc": {
          "line": 426,
          "column": 17,
          "position": 2686
        },
        "endLoc": {
          "line": 449,
          "column": 42,
          "position": 2835
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 383,
        "end": 406,
        "startLoc": {
          "line": 383,
          "column": 17,
          "position": 2403
        },
        "endLoc": {
          "line": 406,
          "column": 36,
          "position": 2552
        }
      }
    },
    {
      "format": "python",
      "lines": 30,
      "fragment": "()\n\n        # Create a test tool\n        class TestTool(Tool):\n            @property\n            def name(self) -> str:\n                return \"test_tool\"\n\n            @property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return [\"core>=1.0.0\"]\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n        registry",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 467,
        "end": 496,
        "startLoc": {
          "line": 467,
          "column": 13,
          "position": 2948
        },
        "endLoc": {
          "line": 496,
          "column": 9,
          "position": 3125
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 62,
        "end": 92,
        "startLoc": {
          "line": 62,
          "column": 18,
          "position": 379
        },
        "endLoc": {
          "line": 92,
          "column": 22,
          "position": 557
        }
      }
    },
    {
      "format": "python",
      "lines": 31,
      "fragment": ")\n\n        # Create a test tool\n        class TestTool(Tool):\n            @property\n            def name(self) -> str:\n                return \"test_tool\"\n\n            @property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return [\"core>=1.0.0\"]\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Load tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 510,
        "end": 540,
        "startLoc": {
          "line": 510,
          "column": 9,
          "position": 3240
        },
        "endLoc": {
          "line": 540,
          "column": 12,
          "position": 3417
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 62,
        "end": 92,
        "startLoc": {
          "line": 62,
          "column": 2,
          "position": 380
        },
        "endLoc": {
          "line": 92,
          "column": 22,
          "position": 557
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Load tool\n        loaded_tool = loader.load_tool(test_tool)\n\n        # Check compatibility",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 527,
        "end": 543,
        "startLoc": {
          "line": 527,
          "column": 17,
          "position": 3342
        },
        "endLoc": {
          "line": 543,
          "column": 22,
          "position": 3433
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_loader.py",
        "start": 459,
        "end": 475,
        "startLoc": {
          "line": 459,
          "column": 17,
          "position": 3055
        },
        "endLoc": {
          "line": 475,
          "column": 45,
          "position": 3146
        }
      }
    },
    {
      "format": "python",
      "lines": 26,
      "fragment": "class CompatibleTool(Tool):\n            @property\n            def name(self) -> str:\n                return \"compatible_tool\"\n\n            @property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return [\"core>=1.0.0\"]\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        # Incompatible tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 699,
        "end": 724,
        "startLoc": {
          "line": 699,
          "column": 9,
          "position": 4354
        },
        "endLoc": {
          "line": 724,
          "column": 20,
          "position": 4514
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 151,
        "end": 90,
        "startLoc": {
          "line": 151,
          "column": 9,
          "position": 933
        },
        "endLoc": {
          "line": 90,
          "column": 10,
          "position": 547
        }
      }
    },
    {
      "format": "python",
      "lines": 26,
      "fragment": "class IncompatibleTool(Tool):\n            @property\n            def name(self) -> str:\n                return \"incompatible_tool\"\n\n            @property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return [\"nonexistent>=1.0.0\"]\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        tools",
      "tokens": 0,
      "firstFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 725,
        "end": 750,
        "startLoc": {
          "line": 725,
          "column": 9,
          "position": 4517
        },
        "endLoc": {
          "line": 750,
          "column": 6,
          "position": 4677
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 188,
        "end": 213,
        "startLoc": {
          "line": 188,
          "column": 9,
          "position": 1171
        },
        "endLoc": {
          "line": 213,
          "column": 18,
          "position": 1331
        }
      }
    },
    {
      "format": "python",
      "lines": 20,
      "fragment": ") as f:\n                        f.write(content)\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0  # Should handle various file types securely",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 141,
        "end": 160,
        "startLoc": {
          "line": 141,
          "column": 8,
          "position": 1028
        },
        "endLoc": {
          "line": 160,
          "column": 44,
          "position": 1182
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 68,
        "end": 87,
        "startLoc": {
          "line": 68,
          "column": 4,
          "position": 449
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 8,
      "fragment": "import json\nfrom unittest.mock import patch, MagicMock\nfrom nodupe.core.main import main\nfrom nodupe.tools.commands.scan import ScanTool\nfrom nodupe.tools.commands.apply import ApplyTool\nfrom nodupe.tools.commands.similarity import SimilarityCommandTool as SimilarityTool\n\nclass TestContinuousOperation",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 15,
        "end": 22,
        "startLoc": {
          "line": 15,
          "column": 1,
          "position": 28
        },
        "endLoc": {
          "line": 22,
          "column": 24,
          "position": 106
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 14,
        "end": 21,
        "startLoc": {
          "line": 14,
          "column": 1,
          "position": 24
        },
        "endLoc": {
          "line": 21,
          "column": 32,
          "position": 102
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0  # Should handle stress gracefully",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 153,
        "end": 164,
        "startLoc": {
          "line": 153,
          "column": 13,
          "position": 1069
        },
        "endLoc": {
          "line": 164,
          "column": 34,
          "position": 1173
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 13,
          "position": 499
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0  # Should handle file variations gracefully",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 235,
        "end": 246,
        "startLoc": {
          "line": 235,
          "column": 13,
          "position": 1690
        },
        "endLoc": {
          "line": 246,
          "column": 43,
          "position": 1794
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 13,
          "position": 499
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "scan_args.min_size = 0\n                    scan_args.max_size = None\n                    scan_args.extensions = None\n                    scan_args.exclude = None\n                    scan_args.verbose = False\n                    scan_args.container = mock_container\n\n                    result = tool.execute_scan(scan_args)\n\n                elif op_name == \"apply\":\n                    apply_args = MagicMock()\n                    apply_args.action = \"list\"\n                    apply_args.input = extra_data",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 566,
        "end": 578,
        "startLoc": {
          "line": 566,
          "column": 21,
          "position": 4290
        },
        "endLoc": {
          "line": 578,
          "column": 11,
          "position": 4392
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 526,
        "end": 538,
        "startLoc": {
          "line": 526,
          "column": 21,
          "position": 3761
        },
        "endLoc": {
          "line": 538,
          "column": 5,
          "position": 3863
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "import pytest\nimport sys\nimport os\nimport tempfile\nimport time\nimport json\nfrom unittest.mock import patch, MagicMock\nfrom nodupe.core.main import main\nfrom nodupe.tools.commands.scan import ScanTool\nfrom nodupe.tools.commands.apply import ApplyTool\nfrom nodupe.tools.commands.similarity import SimilarityCommandTool as SimilarityTool\n\nclass TestPerformanceBenchmarking",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 10,
        "end": 22,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 8
        },
        "endLoc": {
          "line": 22,
          "column": 28,
          "position": 106
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 10,
        "end": 21,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 8
        },
        "endLoc": {
          "line": 21,
          "column": 32,
          "position": 102
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            start_time = time.time()\n            scan_result = scan_tool.execute_scan(scan_args)\n            end_time = time.time()\n\n            assert scan_result == 0\n            execution_time = end_time - start_time\n            assert execution_time < 10.0",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 40,
        "end": 56,
        "startLoc": {
          "line": 40,
          "column": 13,
          "position": 236
        },
        "endLoc": {
          "line": 56,
          "column": 5,
          "position": 381
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 371,
        "end": 387,
        "startLoc": {
          "line": 371,
          "column": 13,
          "position": 2737
        },
        "endLoc": {
          "line": 387,
          "column": 5,
          "position": 2882
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": "apply_tool = ApplyTool()\n            apply_args = MagicMock()\n            apply_args.action = \"list\"\n            apply_args.input = duplicates_file\n            apply_args.target_dir = None\n            apply_args.dry_run = True\n            apply_args.verbose = False\n\n            start_time = time.time()\n            apply_result = apply_tool.execute_apply(apply_args)\n            end_time = time.time()\n\n            assert apply_result == 0\n            execution_time = end_time - start_time\n            assert execution_time < 5.0",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 82,
        "end": 96,
        "startLoc": {
          "line": 82,
          "column": 13,
          "position": 588
        },
        "endLoc": {
          "line": 96,
          "column": 4,
          "position": 713
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 413,
        "end": 427,
        "startLoc": {
          "line": 413,
          "column": 13,
          "position": 3079
        },
        "endLoc": {
          "line": 427,
          "column": 5,
          "position": 3204
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            start_time = time.time()\n            scan_result = scan_tool.execute_scan(scan_args)\n            end_time = time.time()\n\n            assert scan_result == 0\n            execution_time = end_time - start_time\n            assert execution_time < 15.0",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 146,
        "end": 162,
        "startLoc": {
          "line": 146,
          "column": 13,
          "position": 1105
        },
        "endLoc": {
          "line": 162,
          "column": 5,
          "position": 1250
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 371,
        "end": 387,
        "startLoc": {
          "line": 371,
          "column": 13,
          "position": 2737
        },
        "endLoc": {
          "line": 387,
          "column": 5,
          "position": 2882
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": ", f)\n\n            # Test apply performance\n            apply_tool = ApplyTool()\n            apply_args = MagicMock()\n            apply_args.action = \"list\"\n            apply_args.input = duplicates_file\n            apply_args.target_dir = None\n            apply_args.dry_run = True\n            apply_args.verbose = False\n\n            start_time = time.time()\n            apply_result = apply_tool.execute_apply(apply_args)\n            end_time = time.time()\n\n            assert apply_result == 0\n            execution_time = end_time - start_time\n            assert execution_time < 8.0",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 186,
        "end": 203,
        "startLoc": {
          "line": 186,
          "column": 14,
          "position": 1473
        },
        "endLoc": {
          "line": 203,
          "column": 4,
          "position": 1608
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 79,
        "end": 427,
        "startLoc": {
          "line": 79,
          "column": 17,
          "position": 578
        },
        "endLoc": {
          "line": 427,
          "column": 5,
          "position": 3204
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n    def",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 224,
        "end": 237,
        "startLoc": {
          "line": 224,
          "column": 13,
          "position": 1773
        },
        "endLoc": {
          "line": 237,
          "column": 4,
          "position": 1879
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 13,
          "position": 499
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            start_time = time.time()\n            scan_result = scan_tool.execute_scan(scan_args)\n            end_time = time.time()\n\n            assert scan_result == 0\n            execution_time = end_time - start_time\n            assert execution_time < 5.0",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 308,
        "end": 319,
        "startLoc": {
          "line": 308,
          "column": 13,
          "position": 2428
        },
        "endLoc": {
          "line": 319,
          "column": 4,
          "position": 2526
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 376,
        "end": 387,
        "startLoc": {
          "line": 376,
          "column": 13,
          "position": 2784
        },
        "endLoc": {
          "line": 387,
          "column": 5,
          "position": 2882
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "]\n                scan_args.min_size = 0\n                scan_args.max_size = None\n                scan_args.extensions = None\n                scan_args.exclude = None\n                scan_args.verbose = False\n                scan_args.container = mock_container\n\n                start_time = time.time()\n                scan_result = scan_tool.execute_scan(scan_args)\n                end_time = time.time()\n\n                assert scan_result == 0\n                total_time",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_performance.py",
        "start": 385,
        "end": 398,
        "startLoc": {
          "line": 385,
          "column": 7,
          "position": 3087
        },
        "endLoc": {
          "line": 398,
          "column": 11,
          "position": 3189
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_reliability.py",
        "start": 373,
        "end": 386,
        "startLoc": {
          "line": 373,
          "column": 9,
          "position": 2763
        },
        "endLoc": {
          "line": 386,
          "column": 15,
          "position": 2865
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": ")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            # Should handle mixed file content gracefully",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_error_recovery.py",
        "start": 119,
        "end": 137,
        "startLoc": {
          "line": 119,
          "column": 21,
          "position": 886
        },
        "endLoc": {
          "line": 137,
          "column": 46,
          "position": 1019
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 69,
        "end": 87,
        "startLoc": {
          "line": 69,
          "column": 8,
          "position": 462
        },
        "endLoc": {
          "line": 87,
          "column": 7,
          "position": 595
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": ")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = True",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_error_recovery.py",
        "start": 223,
        "end": 237,
        "startLoc": {
          "line": 223,
          "column": 19,
          "position": 1687
        },
        "endLoc": {
          "line": 237,
          "column": 5,
          "position": 1795
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 69,
        "end": 83,
        "startLoc": {
          "line": 69,
          "column": 8,
          "position": 462
        },
        "endLoc": {
          "line": 83,
          "column": 6,
          "position": 570
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": ")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            # Should maintain data integrity",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_error_recovery.py",
        "start": 385,
        "end": 403,
        "startLoc": {
          "line": 385,
          "column": 28,
          "position": 2943
        },
        "endLoc": {
          "line": 403,
          "column": 33,
          "position": 3076
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 69,
        "end": 87,
        "startLoc": {
          "line": 69,
          "column": 8,
          "position": 462
        },
        "endLoc": {
          "line": 87,
          "column": 7,
          "position": 595
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = True  # Enable monitoring",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_error_recovery.py",
        "start": 463,
        "end": 474,
        "startLoc": {
          "line": 463,
          "column": 13,
          "position": 3530
        },
        "endLoc": {
          "line": 474,
          "column": 20,
          "position": 3633
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 72,
        "end": 237,
        "startLoc": {
          "line": 72,
          "column": 13,
          "position": 469
        },
        "endLoc": {
          "line": 237,
          "column": 25,
          "position": 1797
        }
      }
    },
    {
      "format": "python",
      "lines": 23,
      "fragment": ":\n                mock_container = scenario[\"container\"]\n                if mock_container:\n                    mock_db_connection = MagicMock()\n                    mock_container.get_service.return_value = mock_db_connection\n\n                scan_args = MagicMock()\n                scan_args.paths = scenario[\"paths\"]\n                scan_args.min_size = 0\n                scan_args.max_size = None\n                scan_args.extensions = None\n                scan_args.exclude = None\n                scan_args.verbose = False\n                scan_args.container = scenario[\"container\"]\n\n                scan_result = scan_tool.execute_scan(scan_args)\n\n                if scenario[\"expected\"] == 0:\n                    assert scan_result == 0\n                else:\n                    assert isinstance(scan_result, int)\n\n    def test_apply_recovery_validation",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_error_recovery.py",
        "start": 546,
        "end": 568,
        "startLoc": {
          "line": 546,
          "column": 15,
          "position": 4139
        },
        "endLoc": {
          "line": 568,
          "column": 31,
          "position": 4311
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 308,
        "end": 330,
        "startLoc": {
          "line": 308,
          "column": 19,
          "position": 2212
        },
        "endLoc": {
          "line": 330,
          "column": 31,
          "position": 2384
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": ",\n                        \"files\": [\n                            {\"path\": \"/tmp/valid1.txt\", \"size\": 100, \"type\": \"txt\"},\n                            {\"path\": \"/tmp/valid2.txt\", \"size\": 100, \"type\": \"txt\"}\n                        ]\n                    }\n                ]\n            }\n\n            with open(valid_file, \"w\") as f:\n                json.dump(valid_data, f)\n\n            # Test multiple recovery scenarios",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_error_recovery.py",
        "start": 576,
        "end": 588,
        "startLoc": {
          "line": 576,
          "column": 13,
          "position": 4375
        },
        "endLoc": {
          "line": 588,
          "column": 35,
          "position": 4466
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 338,
        "end": 350,
        "startLoc": {
          "line": 338,
          "column": 22,
          "position": 2448
        },
        "endLoc": {
          "line": 350,
          "column": 39,
          "position": 2539
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": ":\n                apply_args = MagicMock()\n                apply_args.action = scenario[\"action\"]\n                apply_args.input = scenario[\"input\"]\n                apply_args.target_dir = None\n                apply_args.dry_run = True\n                apply_args.verbose = False\n\n                apply_result = apply_tool.execute_apply(apply_args)\n\n                if scenario[\"expected\"] == 0:\n                    assert apply_result == 0\n                else:\n                    assert isinstance(apply_result, int)\n\nif",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_system_error_recovery.py",
        "start": 611,
        "end": 626,
        "startLoc": {
          "line": 611,
          "column": 15,
          "position": 4585
        },
        "endLoc": {
          "line": 626,
          "column": 3,
          "position": 4699
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 373,
        "end": 388,
        "startLoc": {
          "line": 373,
          "column": 19,
          "position": 2658
        },
        "endLoc": {
          "line": 388,
          "column": 6,
          "position": 2772
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Create mock duplicates file for apply",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 44,
        "end": 57,
        "startLoc": {
          "line": 44,
          "column": 13,
          "position": 266
        },
        "endLoc": {
          "line": 57,
          "column": 40,
          "position": 372
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 13,
          "position": 499
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 23,
      "fragment": ")  # Creates duplicates\n                test_files.append(test_file)\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            # Test scan workflow\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Create duplicates file",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 100,
        "end": 122,
        "startLoc": {
          "line": 100,
          "column": 18,
          "position": 734
        },
        "endLoc": {
          "line": 122,
          "column": 25,
          "position": 890
        }
      },
      "secondFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 35,
        "end": 87,
        "startLoc": {
          "line": 35,
          "column": 28,
          "position": 216
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 22,
      "fragment": ")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            # Test scan workflow\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Test similarity workflow",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 166,
        "end": 187,
        "startLoc": {
          "line": 166,
          "column": 22,
          "position": 1254
        },
        "endLoc": {
          "line": 187,
          "column": 27,
          "position": 1400
        }
      },
      "secondFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 36,
        "end": 87,
        "startLoc": {
          "line": 36,
          "column": 10,
          "position": 226
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Verify database service was accessed",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 286,
        "end": 299,
        "startLoc": {
          "line": 286,
          "column": 13,
          "position": 2095
        },
        "endLoc": {
          "line": 299,
          "column": 39,
          "position": 2201
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 13,
          "position": 499
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Step 4: Create duplicates and apply list",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 394,
        "end": 407,
        "startLoc": {
          "line": 394,
          "column": 13,
          "position": 2939
        },
        "endLoc": {
          "line": 407,
          "column": 43,
          "position": 3045
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 13,
          "position": 499
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\nclass",
      "tokens": 0,
      "firstFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 475,
        "end": 492,
        "startLoc": {
          "line": 475,
          "column": 13,
          "position": 3658
        },
        "endLoc": {
          "line": 492,
          "column": 6,
          "position": 3793
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 72,
        "end": 87,
        "startLoc": {
          "line": 72,
          "column": 13,
          "position": 469
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 9,
      "fragment": "loader = ToolLoader()\n        mock_path = Path(\"/fake/tool.py\")\n        \n        with patch.object(mock_path, 'exists', return_value=True), \\\n             patch.object(mock_path, 'suffix', '.py'), \\\n             patch('importlib.util.spec_from_file_location') as mock_spec_from_file, \\\n             patch('importlib.util.module_from_spec') as mock_module_from_spec:\n            \n            # Create a mock module with no Tool subclasses",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 136,
        "end": 144,
        "startLoc": {
          "line": 136,
          "column": 9,
          "position": 909
        },
        "endLoc": {
          "line": 144,
          "column": 47,
          "position": 994
        }
      },
      "secondFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 102,
        "end": 110,
        "startLoc": {
          "line": 102,
          "column": 9,
          "position": 666
        },
        "endLoc": {
          "line": 110,
          "column": 42,
          "position": 751
        }
      }
    },
    {
      "format": "python",
      "lines": 9,
      "fragment": "loader = ToolLoader()\n        mock_path = Path(\"/fake/tool.py\")\n        \n        with patch.object(mock_path, 'exists', return_value=True), \\\n             patch.object(mock_path, 'suffix', '.py'), \\\n             patch('importlib.util.spec_from_file_location') as mock_spec_from_file, \\\n             patch('importlib.util.module_from_spec') as mock_module_from_spec:\n            \n            # Create a mock module with invalid tool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 173,
        "end": 181,
        "startLoc": {
          "line": 173,
          "column": 9,
          "position": 1180
        },
        "endLoc": {
          "line": 181,
          "column": 41,
          "position": 1265
        }
      },
      "secondFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 102,
        "end": 110,
        "startLoc": {
          "line": 102,
          "column": 9,
          "position": 666
        },
        "endLoc": {
          "line": 110,
          "column": 42,
          "position": 751
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "def initialize(self, container):\n                pass\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {}\n\n            @property\n            def api_methods(self):\n                return {}\n\n            def run_standalone(self, args):\n                return 0\n\n            def describe_usage(self):\n                return \"Failing tool usage\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 315,
        "end": 332,
        "startLoc": {
          "line": 315,
          "column": 13,
          "position": 2146
        },
        "endLoc": {
          "line": 332,
          "column": 21,
          "position": 2240
        }
      },
      "secondFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 266,
        "end": 283,
        "startLoc": {
          "line": 266,
          "column": 13,
          "position": 1859
        },
        "endLoc": {
          "line": 283,
          "column": 18,
          "position": 1953
        }
      }
    },
    {
      "format": "python",
      "lines": 33,
      "fragment": "[]\n        self._initialized = False\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def version(self):\n        return self._version\n\n    @property\n    def dependencies(self):\n        return self._dependencies\n\n    def initialize(self, container):\n        self._initialized = True\n\n    def shutdown(self):\n        self._initialized = False\n\n    def get_capabilities(self):\n        return {\"test\": \"capability\"}\n\n    @property\n    def api_methods(self):\n        return {}\n\n    def run_standalone(self, args):\n        return 0\n\n    def describe_usage(self):\n        return \"Test tool usage description\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_tool_base.py",
        "start": 14,
        "end": 46,
        "startLoc": {
          "line": 14,
          "column": 2,
          "position": 105
        },
        "endLoc": {
          "line": 46,
          "column": 30,
          "position": 292
        }
      },
      "secondFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 67,
        "end": 99,
        "startLoc": {
          "line": 67,
          "column": 2,
          "position": 472
        },
        "endLoc": {
          "line": 99,
          "column": 18,
          "position": 659
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "@property\n            def version(self): return \"1.0.0\"\n            @property\n            def dependencies(self): return []\n\n            def __init__(self):\n                self.initialized = False\n                self.shutdown_called = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                self.shutdown_called = True\n\n            def get_capabilities(self):\n                return {\"integration_test\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_plugins.py",
        "start": 730,
        "end": 746,
        "startLoc": {
          "line": 730,
          "column": 13,
          "position": 4657
        },
        "endLoc": {
          "line": 746,
          "column": 19,
          "position": 4774
        }
      },
      "secondFile": {
        "name": "tests/core/test_plugins.py",
        "start": 442,
        "end": 458,
        "startLoc": {
          "line": 442,
          "column": 13,
          "position": 2763
        },
        "endLoc": {
          "line": 458,
          "column": 7,
          "position": 2880
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "loader = CoreLoader()\n\n        with patch('nodupe.core.loader.load_config') as mock_load_config, \\\n                patch.object(loader, '_apply_platform_autoconfig') as mock_autoconfig, \\\n                patch('nodupe.core.loader.ToolRegistry') as mock_registry, \\\n                patch('nodupe.core.loader.create_tool_loader') as mock_loader, \\\n                patch('nodupe.core.loader.create_tool_discovery') as mock_discovery, \\\n                patch('nodupe.core.loader.create_lifecycle_manager') as mock_lifecycle, \\\n                patch('nodupe.core.loader.ToolHotReload') as mock_hot_reload, \\\n                patch('nodupe.core.loader.get_connection') as mock_db, \\\n                patch('nodupe.core.loader.logging') as mock_logging:",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_loader.py",
        "start": 228,
        "end": 238,
        "startLoc": {
          "line": 228,
          "column": 9,
          "position": 1699
        },
        "endLoc": {
          "line": 238,
          "column": 2,
          "position": 1828
        }
      },
      "secondFile": {
        "name": "tests/core/test_loader.py",
        "start": 148,
        "end": 158,
        "startLoc": {
          "line": 148,
          "column": 9,
          "position": 1076
        },
        "endLoc": {
          "line": 158,
          "column": 2,
          "position": 1205
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "loader = CoreLoader()\n\n        with patch('nodupe.core.loader.load_config') as mock_load_config, \\\n                patch.object(loader, '_apply_platform_autoconfig') as mock_autoconfig, \\\n                patch('nodupe.core.loader.ToolRegistry') as mock_registry, \\\n                patch('nodupe.core.loader.create_tool_loader') as mock_loader, \\\n                patch('nodupe.core.loader.create_tool_discovery') as mock_discovery, \\\n                patch('nodupe.core.loader.create_lifecycle_manager') as mock_lifecycle, \\\n                patch('nodupe.core.loader.ToolHotReload') as mock_hot_reload, \\\n                patch('nodupe.core.loader.get_connection') as mock_db, \\\n                patch('nodupe.core.loader.logging') as mock_logging:\n\n            # Mock config",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_loader.py",
        "start": 264,
        "end": 276,
        "startLoc": {
          "line": 264,
          "column": 9,
          "position": 1951
        },
        "endLoc": {
          "line": 276,
          "column": 14,
          "position": 2084
        }
      },
      "secondFile": {
        "name": "tests/core/test_loader.py",
        "start": 148,
        "end": 240,
        "startLoc": {
          "line": 148,
          "column": 9,
          "position": 1076
        },
        "endLoc": {
          "line": 240,
          "column": 38,
          "position": 1832
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "loader = CoreLoader()\n\n        with patch('nodupe.core.loader.load_config') as mock_load_config, \\\n                patch.object(loader, '_apply_platform_autoconfig') as mock_autoconfig, \\\n                patch('nodupe.core.loader.ToolRegistry') as mock_registry, \\\n                patch('nodupe.core.loader.create_tool_loader') as mock_loader, \\\n                patch('nodupe.core.loader.create_tool_discovery') as mock_discovery, \\\n                patch('nodupe.core.loader.create_lifecycle_manager') as mock_lifecycle, \\\n                patch('nodupe.core.loader.ToolHotReload') as mock_hot_reload, \\\n                patch('nodupe.core.loader.get_connection') as mock_db, \\\n                patch('nodupe.core.loader.autotune_hash_algorithm'",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_loader.py",
        "start": 301,
        "end": 311,
        "startLoc": {
          "line": 301,
          "column": 9,
          "position": 2217
        },
        "endLoc": {
          "line": 311,
          "column": 45,
          "position": 2340
        }
      },
      "secondFile": {
        "name": "tests/core/test_loader.py",
        "start": 148,
        "end": 158,
        "startLoc": {
          "line": 148,
          "column": 9,
          "position": 1076
        },
        "endLoc": {
          "line": 158,
          "column": 29,
          "position": 1199
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "loader = CoreLoader()\n\n        with patch('nodupe.core.loader.load_config') as mock_load_config, \\\n                patch.object(loader, '_apply_platform_autoconfig') as mock_autoconfig, \\\n                patch('nodupe.core.loader.ToolRegistry') as mock_registry, \\\n                patch('nodupe.core.loader.create_tool_loader') as mock_loader, \\\n                patch('nodupe.core.loader.create_tool_discovery') as mock_discovery, \\\n                patch('nodupe.core.loader.create_lifecycle_manager') as mock_lifecycle, \\\n                patch('nodupe.core.loader.ToolHotReload') as mock_hot_reload, \\\n                patch('nodupe.core.loader.get_connection') as mock_db, \\\n                patch('nodupe.core.loader.autotune_hash_algorithm') as mock_autotune, \\\n                patch('nodupe.core.loader.logging'",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_loader.py",
        "start": 350,
        "end": 361,
        "startLoc": {
          "line": 350,
          "column": 9,
          "position": 2600
        },
        "endLoc": {
          "line": 361,
          "column": 29,
          "position": 2736
        }
      },
      "secondFile": {
        "name": "tests/core/test_loader.py",
        "start": 148,
        "end": 312,
        "startLoc": {
          "line": 148,
          "column": 9,
          "position": 1076
        },
        "endLoc": {
          "line": 312,
          "column": 45,
          "position": 2353
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "loader = CoreLoader()\n\n        with patch('nodupe.core.loader.load_config') as mock_load_config, \\\n                patch.object(loader, '_apply_platform_autoconfig') as mock_autoconfig, \\\n                patch('nodupe.core.loader.ToolRegistry') as mock_registry, \\\n                patch('nodupe.core.loader.create_tool_loader') as mock_loader, \\\n                patch('nodupe.core.loader.create_tool_discovery') as mock_discovery, \\\n                patch('nodupe.core.loader.create_lifecycle_manager') as mock_lifecycle, \\\n                patch('nodupe.core.loader.ToolHotReload') as mock_hot_reload, \\\n                patch('nodupe.core.loader.get_connection') as mock_db, \\\n                patch('nodupe.core.loader.logging') as mock_logging:\n\n            # Mock config\n            mock_config = Mock()\n            mock_config.config = {}\n\n            mock_load_config",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_loader.py",
        "start": 389,
        "end": 405,
        "startLoc": {
          "line": 389,
          "column": 9,
          "position": 2894
        },
        "endLoc": {
          "line": 405,
          "column": 17,
          "position": 3050
        }
      },
      "secondFile": {
        "name": "tests/core/test_loader.py",
        "start": 148,
        "end": 280,
        "startLoc": {
          "line": 148,
          "column": 9,
          "position": 1076
        },
        "endLoc": {
          "line": 280,
          "column": 16,
          "position": 2107
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "loader = CoreLoader()\n\n        with patch('nodupe.core.loader.load_config') as mock_load_config, \\\n                patch.object(loader, '_apply_platform_autoconfig') as mock_autoconfig, \\\n                patch('nodupe.core.loader.ToolRegistry') as mock_registry, \\\n                patch('nodupe.core.loader.create_tool_loader') as mock_loader, \\\n                patch('nodupe.core.loader.create_tool_discovery') as mock_discovery, \\\n                patch('nodupe.core.loader.create_lifecycle_manager') as mock_lifecycle, \\\n                patch('nodupe.core.loader.ToolHotReload') as mock_hot_reload, \\\n                patch('nodupe.core.loader.get_connection') as mock_db, \\\n                patch('nodupe.core.loader.autotune_hash_algorithm') as mock_autotune, \\\n                patch('nodupe.core.loader.create_autotuned_hasher') as mock_hasher, \\\n                patch('nodupe.core.loader.logging') as mock_logging,",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_loader.py",
        "start": 534,
        "end": 546,
        "startLoc": {
          "line": 534,
          "column": 9,
          "position": 3923
        },
        "endLoc": {
          "line": 546,
          "column": 2,
          "position": 4078
        }
      },
      "secondFile": {
        "name": "tests/core/test_loader.py",
        "start": 148,
        "end": 313,
        "startLoc": {
          "line": 148,
          "column": 9,
          "position": 1076
        },
        "endLoc": {
          "line": 313,
          "column": 2,
          "position": 2372
        }
      }
    },
    {
      "format": "python",
      "lines": 36,
      "fragment": "mock_path_instance = Mock()\n            mock_path_instance.exists.return_value = True\n            mock_path.return_value = mock_path_instance\n\n            # Mock tool discovery\n            mock_discovery_instance = Mock()\n            mock_discovery_instance.discover_tools_in_directory.return_value = [\n                Mock(name='core', path='tools/core.py')]\n            mock_discovery_instance.get_discovered_tool.return_value = Mock(\n                name='core', path='tools/core.py')\n            mock_discovery_instance.get_discovered_tools.return_value = [\n                Mock(name='core', path='tools/core.py')]\n            mock_discovery.return_value = mock_discovery_instance\n\n            # Mock tool loader\n            mock_loader_instance = Mock()\n            mock_loader_instance.load_tool_from_file.return_value = Mock\n            mock_loader_instance.instantiate_tool.return_value = Mock(\n                name='core')\n            mock_loader_instance.register_loaded_tool.return_value = None\n            mock_loader.return_value = mock_loader_instance\n\n            # Mock other components\n            mock_registry_instance = Mock()\n            mock_registry.return_value = mock_registry_instance\n\n            mock_lifecycle_instance = Mock()\n            mock_lifecycle.return_value = mock_lifecycle_instance\n\n            mock_hot_reload_instance = Mock()\n            mock_hot_reload.return_value = mock_hot_reload_instance\n\n            mock_db_instance = Mock()\n            mock_db.return_value = mock_db_instance\n\n            # Mock autotune",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_loader.py",
        "start": 561,
        "end": 596,
        "startLoc": {
          "line": 561,
          "column": 13,
          "position": 4163
        },
        "endLoc": {
          "line": 596,
          "column": 16,
          "position": 4429
        }
      },
      "secondFile": {
        "name": "tests/core/test_loader.py",
        "start": 172,
        "end": 207,
        "startLoc": {
          "line": 172,
          "column": 13,
          "position": 1283
        },
        "endLoc": {
          "line": 207,
          "column": 15,
          "position": 1549
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": ")\n\n        checkpoint_file = Path(self.scan_path) / Incremental.CHECKPOINT_FILE\n        assert checkpoint_file.exists()\n\n        with open(checkpoint_file, 'r') as f:\n            data = json.load(f)\n\n        assert data[\"scan_path\"] == self.scan_path\n        assert data[\"processed_files\"] == processed_files\n        assert data[\"metadata\"] == {",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_incremental.py",
        "start": 56,
        "end": 66,
        "startLoc": {
          "line": 56,
          "column": 16,
          "position": 403
        },
        "endLoc": {
          "line": 66,
          "column": 2,
          "position": 499
        }
      },
      "secondFile": {
        "name": "tests/core/test_incremental.py",
        "start": 36,
        "end": 46,
        "startLoc": {
          "line": 36,
          "column": 9,
          "position": 239
        },
        "endLoc": {
          "line": 46,
          "column": 9,
          "position": 335
        }
      }
    },
    {
      "format": "python",
      "lines": 9,
      "fragment": "assert len(results) == 3\n\n        # Check that special characters are preserved\n        file_paths = [r['path'] for r in results]\n        assert any('file with spaces.txt' in path for path in file_paths)\n        assert any('file-with-dashes.txt' in path for path in file_paths)\n        assert any('file_with_underscores.txt' in path for path in file_paths)\n\n    def test_process_files_error_handling",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_file_processor.py",
        "start": 275,
        "end": 283,
        "startLoc": {
          "line": 275,
          "column": 9,
          "position": 2044
        },
        "endLoc": {
          "line": 283,
          "column": 34,
          "position": 2143
        }
      },
      "secondFile": {
        "name": "tests/core/test_file_walker.py",
        "start": 201,
        "end": 209,
        "startLoc": {
          "line": 201,
          "column": 9,
          "position": 1441
        },
        "endLoc": {
          "line": 209,
          "column": 25,
          "position": 1540
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "with tempfile.NamedTemporaryFile(suffix='.db') as tmp:\n            db = DatabaseConnection(tmp.name)\n            _ = db.get_connection()  # Use underscore to indicate unused variable\n            _init_full_schema(db)\n            \n            repo = FileRepository(db)\n            \n            # Add a file first\n            file_id = repo.add_file(\"test.txt\", 100, 12345, \"abc123\")\n            assert file_id is not None # Ensure file was added successfully\n            \n            # Update the file",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_database.py",
        "start": 314,
        "end": 325,
        "startLoc": {
          "line": 314,
          "column": 9,
          "position": 2394
        },
        "endLoc": {
          "line": 325,
          "column": 18,
          "position": 2495
        }
      },
      "secondFile": {
        "name": "tests/core/test_database.py",
        "start": 295,
        "end": 306,
        "startLoc": {
          "line": 295,
          "column": 9,
          "position": 2230
        },
        "endLoc": {
          "line": 306,
          "column": 23,
          "position": 2331
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "with tempfile.NamedTemporaryFile(suffix='.db') as tmp:\n            db = DatabaseConnection(tmp.name)\n            _ = db.get_connection()  # Use underscore to indicate unused variable\n            _init_full_schema(db)\n            \n            repo = FileRepository(db)\n            \n            # Add files and mark some as duplicates\n            original_id = repo.add_file(\"original.txt\", 10, 12345, \"hash1\")\n            dup_id",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_database.py",
        "start": 489,
        "end": 498,
        "startLoc": {
          "line": 489,
          "column": 9,
          "position": 4061
        },
        "endLoc": {
          "line": 498,
          "column": 7,
          "position": 4147
        }
      },
      "secondFile": {
        "name": "tests/core/test_database.py",
        "start": 463,
        "end": 472,
        "startLoc": {
          "line": 463,
          "column": 9,
          "position": 3781
        },
        "endLoc": {
          "line": 472,
          "column": 8,
          "position": 3867
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "with tempfile.NamedTemporaryFile(suffix='.db') as tmp:\n            db = DatabaseConnection(tmp.name)\n            _ = db.get_connection()  # Use underscore to indicate unused variable\n            _init_full_schema(db)\n            \n            repo = FileRepository(db)\n            \n            # Add some files\n            file1_id = repo.add_file(\"file1.txt\", 100, 12345, \"hash1\")\n            file2_id = repo.add_file(\"file2.txt\", 200, 12346, \"hash2\")\n            assert file1_id is not None  # Ensure files were added successfully\n            assert file2_id is not None\n            \n            assert",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_database.py",
        "start": 568,
        "end": 581,
        "startLoc": {
          "line": 568,
          "column": 9,
          "position": 4860
        },
        "endLoc": {
          "line": 581,
          "column": 7,
          "position": 4993
        }
      },
      "secondFile": {
        "name": "tests/core/test_database.py",
        "start": 423,
        "end": 436,
        "startLoc": {
          "line": 423,
          "column": 9,
          "position": 3421
        },
        "endLoc": {
          "line": 436,
          "column": 10,
          "position": 3554
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": "config_data = {\n            'tool': {\n                'nodupe': {\n                    'database': {'path': '/test/path'},\n                    'scan': {'recursive': True}\n                }\n            }\n        }\n        \n        with open(self.config_path, 'w') as f:\n            toml.dump(config_data, f)\n        \n        config_manager = ConfigManager(str(self.config_path))\n        \n        # Test existing value",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_config.py",
        "start": 238,
        "end": 252,
        "startLoc": {
          "line": 238,
          "column": 9,
          "position": 1746
        },
        "endLoc": {
          "line": 252,
          "column": 22,
          "position": 1847
        }
      },
      "secondFile": {
        "name": "tests/core/test_config.py",
        "start": 93,
        "end": 106,
        "startLoc": {
          "line": 93,
          "column": 9,
          "position": 681
        },
        "endLoc": {
          "line": 106,
          "column": 14,
          "position": 780
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "config_data = {\n            'tool': {\n                'nodupe': {\n                    'database': {'path': '/test/path'},\n                    'scan': {'recursive': True},\n                    'similarity': {'threshold': 0.8},\n                    'performance': {'workers': 4},\n                    'logging': {'level': 'info'}\n                }\n            }\n        }\n        \n        with open(self.config_path, 'w') as f:\n            toml.dump(config_data, f)\n        \n        config_manager = ConfigManager(str(self.config_path))\n        assert config_manager.validate_config",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_config.py",
        "start": 266,
        "end": 282,
        "startLoc": {
          "line": 266,
          "column": 9,
          "position": 1951
        },
        "endLoc": {
          "line": 282,
          "column": 16,
          "position": 2090
        }
      },
      "secondFile": {
        "name": "tests/core/test_config.py",
        "start": 37,
        "end": 53,
        "startLoc": {
          "line": 37,
          "column": 9,
          "position": 231
        },
        "endLoc": {
          "line": 53,
          "column": 12,
          "position": 370
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "},\n                    'similarity': {'threshold': 0.8},\n                    'performance': {'workers': 4},\n                    'logging': {'level': 'info'}\n                }\n            }\n        }\n        \n        with open(self.config_path, 'w') as f:\n            toml.dump(config_data, f)\n        \n        config_manager = ConfigManager(str(self.config_path))\n        assert config_manager.validate_config() is False",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_config.py",
        "start": 290,
        "end": 302,
        "startLoc": {
          "line": 290,
          "column": 13,
          "position": 2142
        },
        "endLoc": {
          "line": 302,
          "column": 6,
          "position": 2248
        }
      },
      "secondFile": {
        "name": "tests/core/test_config.py",
        "start": 41,
        "end": 282,
        "startLoc": {
          "line": 41,
          "column": 5,
          "position": 270
        },
        "endLoc": {
          "line": 282,
          "column": 5,
          "position": 2096
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": "config_data = {\n            'tool': {\n                'nodupe': {\n                    'database': {'path': '/test/path'},\n                    'scan': {'recursive': True},\n                    'similarity': {'threshold': 0.8},\n                    'performance': {'workers': 4},\n                    'logging': {'level': 'info'}\n                }\n            }\n        }\n        \n        with open(self.config_path, 'w') as f:\n            toml.dump(config_data, f)\n        \n        results",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_config.py",
        "start": 582,
        "end": 597,
        "startLoc": {
          "line": 582,
          "column": 9,
          "position": 4447
        },
        "endLoc": {
          "line": 597,
          "column": 8,
          "position": 4567
        }
      },
      "secondFile": {
        "name": "tests/core/test_config.py",
        "start": 37,
        "end": 52,
        "startLoc": {
          "line": 37,
          "column": 9,
          "position": 231
        },
        "endLoc": {
          "line": 52,
          "column": 15,
          "position": 351
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "config_data = {\n            'tool': {\n                'nodupe': {\n                    'database': {'path': '/test/path'},\n                    'scan': {'recursive': True},\n                    'similarity': {'threshold': 0.8},\n                    'performance': {'workers': 4},\n                    'logging': {'level': 'info'}\n                }\n            }\n        }\n        \n        with open(self.config_path, 'w') as f:\n            toml.dump(config_data, f)\n        \n        config_manager = ConfigManager(str(self.config_path))\n        \n        # Serialize and deserialize",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_config.py",
        "start": 741,
        "end": 758,
        "startLoc": {
          "line": 741,
          "column": 9,
          "position": 5730
        },
        "endLoc": {
          "line": 758,
          "column": 28,
          "position": 5867
        }
      },
      "secondFile": {
        "name": "tests/core/test_config.py",
        "start": 37,
        "end": 53,
        "startLoc": {
          "line": 37,
          "column": 9,
          "position": 231
        },
        "endLoc": {
          "line": 53,
          "column": 7,
          "position": 366
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": "config_data = {\n            'tool': {\n                'nodupe': {\n                    'database': {'path': '/test/path'},\n                    'scan': {'recursive': True},\n                    'similarity': {'threshold': 0.8},\n                    'performance': {'workers': 4},\n                    'logging': {'level': 'info'}\n                }\n            }\n        }\n        \n        with open(self.config_path, 'w') as f:\n            toml.dump(config_data, f)\n        \n        config_manager = load_config",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_config.py",
        "start": 790,
        "end": 805,
        "startLoc": {
          "line": 790,
          "column": 9,
          "position": 6107
        },
        "endLoc": {
          "line": 805,
          "column": 12,
          "position": 6231
        }
      },
      "secondFile": {
        "name": "tests/core/test_config.py",
        "start": 37,
        "end": 52,
        "startLoc": {
          "line": 37,
          "column": 9,
          "position": 231
        },
        "endLoc": {
          "line": 52,
          "column": 14,
          "position": 355
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Create a mock duplicates file for apply",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 46,
        "end": 59,
        "startLoc": {
          "line": 46,
          "column": 13,
          "position": 274
        },
        "endLoc": {
          "line": 59,
          "column": 42,
          "position": 380
        }
      },
      "secondFile": {
        "name": "tests/integration/test_system_security.py",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 13,
          "position": 499
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 22,
      "fragment": ")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            # Test scan\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Test similarity",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 96,
        "end": 117,
        "startLoc": {
          "line": 96,
          "column": 16,
          "position": 728
        },
        "endLoc": {
          "line": 117,
          "column": 18,
          "position": 874
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 38,
        "end": 87,
        "startLoc": {
          "line": 38,
          "column": 15,
          "position": 234
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 33,
      "fragment": "with tempfile.TemporaryDirectory() as temp_dir:\n            # Create test files\n            test_file1 = os.path.join(temp_dir, \"test1.txt\")\n            test_file2 = os.path.join(temp_dir, \"test2.txt\")\n\n            with open(test_file1, \"w\") as f:\n                f.write(\"test content\")\n            with open(test_file2, \"w\") as f:\n                f.write(\"test content\")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            # Test scan\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Create duplicates file\n            duplicates_file = os.path.join(temp_dir, \"duplicates.json\")\n            duplicates_data = {\n                \"files\"",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 173,
        "end": 205,
        "startLoc": {
          "line": 173,
          "column": 9,
          "position": 1321
        },
        "endLoc": {
          "line": 205,
          "column": 8,
          "position": 1591
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 30,
        "end": 125,
        "startLoc": {
          "line": 30,
          "column": 9,
          "position": 137
        },
        "endLoc": {
          "line": 125,
          "column": 19,
          "position": 917
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "duplicates_file = os.path.join(temp_dir, \"duplicates.json\")\n            duplicates_data = {\n                \"files\": [\n                    {\"path\": test_file1, \"size\": 12, \"hash\": \"abc123\"},\n                    {\"path\": test_file2, \"size\": 12, \"hash\": \"abc123\"}\n                ]\n            }\n\n            with open(duplicates_file, \"w\") as f:\n                json.dump(duplicates_data, f)\n\n            # Test apply with different actions",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 203,
        "end": 214,
        "startLoc": {
          "line": 203,
          "column": 13,
          "position": 1567
        },
        "endLoc": {
          "line": 214,
          "column": 36,
          "position": 1673
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 60,
        "end": 71,
        "startLoc": {
          "line": 60,
          "column": 13,
          "position": 383
        },
        "endLoc": {
          "line": 71,
          "column": 13,
          "position": 489
        }
      }
    },
    {
      "format": "python",
      "lines": 22,
      "fragment": ")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            # Test scan\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n    def test_complex_file_types",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 392,
        "end": 413,
        "startLoc": {
          "line": 392,
          "column": 23,
          "position": 3026
        },
        "endLoc": {
          "line": 413,
          "column": 24,
          "position": 3174
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 38,
        "end": 237,
        "startLoc": {
          "line": 38,
          "column": 15,
          "position": 234
        },
        "endLoc": {
          "line": 237,
          "column": 24,
          "position": 1881
        }
      }
    },
    {
      "format": "python",
      "lines": 26,
      "fragment": ")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            # Test scan\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Create duplicates file\n            duplicates_file = os.path.join(temp_dir, \"duplicates.json\")\n            duplicates_data = {\n                \"files\": [\n                    {\"path\": os",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 456,
        "end": 481,
        "startLoc": {
          "line": 456,
          "column": 19,
          "position": 3543
        },
        "endLoc": {
          "line": 481,
          "column": 3,
          "position": 3726
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 38,
        "end": 206,
        "startLoc": {
          "line": 38,
          "column": 15,
          "position": 234
        },
        "endLoc": {
          "line": 206,
          "column": 11,
          "position": 1601
        }
      }
    },
    {
      "format": "python",
      "lines": 22,
      "fragment": "}\n                ]\n            }\n\n            with open(duplicates_file, \"w\") as f:\n                json.dump(duplicates_data, f)\n\n            # Test apply with different actions\n            apply_tool = ApplyTool()\n\n            for action in [\"list\", \"delete\", \"move\"]:\n                apply_args = MagicMock()\n                apply_args.action = action\n                apply_args.input = duplicates_file\n                apply_args.target_dir = temp_dir if action != \"list\" else None\n                apply_args.dry_run = True\n                apply_args.verbose = False\n\n                apply_result = apply_tool.execute_apply(apply_args)\n                assert apply_result == 0\n\n            # Test similarity",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 483,
        "end": 504,
        "startLoc": {
          "line": 483,
          "column": 9,
          "position": 3811
        },
        "endLoc": {
          "line": 504,
          "column": 18,
          "position": 3969
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 207,
        "end": 228,
        "startLoc": {
          "line": 207,
          "column": 9,
          "position": 1635
        },
        "endLoc": {
          "line": 228,
          "column": 6,
          "position": 1792
        }
      }
    },
    {
      "format": "python",
      "lines": 9,
      "fragment": "test_file1 = os.path.join(temp_dir, \"test1.txt\")\n            test_file2 = os.path.join(temp_dir, \"test2.txt\")\n\n            with open(test_file1, \"w\") as f:\n                f.write(\"test content\")\n            with open(test_file2, \"w\") as f:\n                f.write(\"test content\")\n\n            # Mock the container and services",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_commands.py",
        "start": 46,
        "end": 54,
        "startLoc": {
          "line": 46,
          "column": 13,
          "position": 245
        },
        "endLoc": {
          "line": 54,
          "column": 34,
          "position": 329
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 32,
        "end": 40,
        "startLoc": {
          "line": 32,
          "column": 13,
          "position": 154
        },
        "endLoc": {
          "line": 40,
          "column": 30,
          "position": 238
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "with tempfile.TemporaryDirectory() as temp_dir:\n            # Create test files\n            test_file1 = os.path.join(temp_dir, \"test1.txt\")\n            test_file2 = os.path.join(temp_dir, \"test2.txt\")\n\n            with open(test_file1, \"w\") as f:\n                f.write(\"test content\")\n            with open(test_file2, \"w\") as f:\n                f.write(\"test content\")\n\n            # Create a duplicates JSON file",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_commands.py",
        "start": 96,
        "end": 106,
        "startLoc": {
          "line": 96,
          "column": 9,
          "position": 605
        },
        "endLoc": {
          "line": 106,
          "column": 32,
          "position": 706
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 30,
        "end": 40,
        "startLoc": {
          "line": 30,
          "column": 9,
          "position": 137
        },
        "endLoc": {
          "line": 40,
          "column": 30,
          "position": 238
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": "duplicates_file = os.path.join(temp_dir, \"duplicates.json\")\n            duplicates_data = {\n                \"files\": [\n                    {\"path\": test_file1, \"size\": 12, \"hash\": \"abc123\"},\n                    {\"path\": test_file2, \"size\": 12, \"hash\": \"abc123\"}\n                ]\n            }\n\n            with open(duplicates_file, \"w\") as f:\n                json.dump(duplicates_data, f)\n\n            # Mock the args",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_commands.py",
        "start": 107,
        "end": 118,
        "startLoc": {
          "line": 107,
          "column": 13,
          "position": 709
        },
        "endLoc": {
          "line": 118,
          "column": 16,
          "position": 815
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 60,
        "end": 71,
        "startLoc": {
          "line": 60,
          "column": 13,
          "position": 383
        },
        "endLoc": {
          "line": 71,
          "column": 13,
          "position": 489
        }
      }
    },
    {
      "format": "python",
      "lines": 30,
      "fragment": "with tempfile.TemporaryDirectory() as temp_dir:\n            # Create test files\n            test_file1 = os.path.join(temp_dir, \"test1.txt\")\n            test_file2 = os.path.join(temp_dir, \"test2.txt\")\n\n            with open(test_file1, \"w\") as f:\n                f.write(\"test content\")\n            with open(test_file2, \"w\") as f:\n                f.write(\"test content\")\n\n            # Mock container and services\n            mock_container = MagicMock()\n            mock_db_connection = MagicMock()\n            mock_container.get_service.return_value = mock_db_connection\n\n            # Test scan\n            scan_tool = ScanTool()\n            scan_args = MagicMock()\n            scan_args.paths = [temp_dir]\n            scan_args.min_size = 0\n            scan_args.max_size = None\n            scan_args.extensions = None\n            scan_args.exclude = None\n            scan_args.verbose = False\n            scan_args.container = mock_container\n\n            scan_result = scan_tool.execute_scan(scan_args)\n            assert scan_result == 0\n\n            # Test apply (list action)",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_commands.py",
        "start": 223,
        "end": 252,
        "startLoc": {
          "line": 223,
          "column": 9,
          "position": 1497
        },
        "endLoc": {
          "line": 252,
          "column": 27,
          "position": 1740
        }
      },
      "secondFile": {
        "name": "tests/core/test_cli_integration.py",
        "start": 30,
        "end": 87,
        "startLoc": {
          "line": 30,
          "column": 9,
          "position": 137
        },
        "endLoc": {
          "line": 87,
          "column": 40,
          "position": 603
        }
      }
    },
    {
      "format": "python",
      "lines": 15,
      "fragment": "# Test scan with invalid path\n        scan_tool = ScanTool()\n        scan_args = MagicMock()\n        scan_args.paths = [\"/nonexistent/path\"]\n        scan_args.min_size = 0\n        scan_args.max_size = None\n        scan_args.extensions = None\n        scan_args.exclude = None\n        scan_args.verbose = False\n        scan_args.container = None\n\n        scan_result = scan_tool.execute_scan(scan_args)\n        assert scan_result != 0\n\n        # Test apply with invalid input file",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_cli_commands.py",
        "start": 270,
        "end": 284,
        "startLoc": {
          "line": 270,
          "column": 9,
          "position": 1885
        },
        "endLoc": {
          "line": 284,
          "column": 37,
          "position": 1994
        }
      },
      "secondFile": {
        "name": "tests/integration/test_end_to_end_workflows.py",
        "start": 497,
        "end": 509,
        "startLoc": {
          "line": 497,
          "column": 9,
          "position": 3815
        },
        "endLoc": {
          "line": 509,
          "column": 25,
          "position": 3922
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "), str(extract_path))\n        \n        # Verify extraction\n        assert len(extracted_files) == 1\n        assert 'test.txt' in extracted_files\n        assert extracted_files['test.txt'] == str(extract_path / 'test.txt')\n        \n        # Verify file content\n        extracted_file = extract_path / 'test.txt'\n        assert extracted_file.exists()\n        assert extracted_file.read_text() == test_content\n\n    def test_extract_nonexistent_archive",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_archive_handler.py",
        "start": 102,
        "end": 114,
        "startLoc": {
          "line": 102,
          "column": 9,
          "position": 784
        },
        "endLoc": {
          "line": 114,
          "column": 33,
          "position": 880
        }
      },
      "secondFile": {
        "name": "tests/core/test_archive_handler.py",
        "start": 74,
        "end": 86,
        "startLoc": {
          "line": 74,
          "column": 9,
          "position": 549
        },
        "endLoc": {
          "line": 86,
          "column": 25,
          "position": 645
        }
      }
    },
    {
      "format": "python",
      "lines": 10,
      "fragment": "extract_path.mkdir()\n        \n        extracted_files = self.archive_handler.extract_archive(str(zip_path), str(extract_path))\n        \n        assert len(extracted_files) == 1\n        extracted_file = extract_path / 'test.txt'\n        assert extracted_file.exists()\n        assert extracted_file.read_text() == 'test content'\n\n    def test_extract_archive_memory_usage",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_archive_handler.py",
        "start": 436,
        "end": 445,
        "startLoc": {
          "line": 436,
          "column": 9,
          "position": 3567
        },
        "endLoc": {
          "line": 445,
          "column": 34,
          "position": 3649
        }
      },
      "secondFile": {
        "name": "tests/core/test_archive_handler.py",
        "start": 314,
        "end": 323,
        "startLoc": {
          "line": 314,
          "column": 13,
          "position": 2576
        },
        "endLoc": {
          "line": 323,
          "column": 48,
          "position": 2658
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": ",\n            \"id\": 1\n        }\n        mock_conn.recv.return_value = json.dumps(request_data).encode('utf-8')\n        \n        with patch('nodupe.core.api.ipc.logging') as mock_logging:\n            mock_logger = Mock()\n            mock_logging.getLogger.return_value = mock_logger\n            \n            server._handle_connection(mock_conn)\n            \n            # Should send error response\n            mock_conn.sendall.assert_called_once()\n            # Verify error was logged\n            mock_logger.warning.assert_called()\n\n    def test_handle_connection_successful_method_call",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_api_components.py",
        "start": 197,
        "end": 213,
        "startLoc": {
          "line": 197,
          "column": 21,
          "position": 1345
        },
        "endLoc": {
          "line": 213,
          "column": 46,
          "position": 1452
        }
      },
      "secondFile": {
        "name": "tests/core/test_api_components.py",
        "start": 165,
        "end": 181,
        "startLoc": {
          "line": 165,
          "column": 14,
          "position": 1131
        },
        "endLoc": {
          "line": 181,
          "column": 42,
          "position": 1238
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": ",\n            \"params\": {\"param1\": \"value1\"},\n            \"id\": 1\n        }\n        mock_conn.recv.return_value = json.dumps(request_data).encode('utf-8')\n        \n        with patch('nodupe.core.api.ipc.logging') as mock_logging:\n            mock_logger = Mock()\n            mock_logging.getLogger.return_value = mock_logger\n            \n            server._handle_connection(mock_conn)\n            \n            # Should call the method\n            mock_method.assert_called_once_with(param1=\"value1\")\n            \n            # Should send error response",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_api_components.py",
        "start": 267,
        "end": 282,
        "startLoc": {
          "line": 267,
          "column": 17,
          "position": 1831
        },
        "endLoc": {
          "line": 282,
          "column": 29,
          "position": 1938
        }
      },
      "secondFile": {
        "name": "tests/core/test_api_components.py",
        "start": 230,
        "end": 245,
        "startLoc": {
          "line": 230,
          "column": 14,
          "position": 1573
        },
        "endLoc": {
          "line": 245,
          "column": 31,
          "position": 1680
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": "self._version = \"1.0.0\"\n        self._dependencies = []\n        self._initialized = False\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def version(self):\n        return self._version\n\n    @property\n    def dependencies(self):\n        return self._dependencies\n\n    def initialize(self, container):\n        self._initialized = True\n        self",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_accessible_base.py",
        "start": 15,
        "end": 33,
        "startLoc": {
          "line": 15,
          "column": 9,
          "position": 94
        },
        "endLoc": {
          "line": 33,
          "column": 5,
          "position": 207
        }
      },
      "secondFile": {
        "name": "tests/core/test_tool_loader.py",
        "start": 66,
        "end": 85,
        "startLoc": {
          "line": 66,
          "column": 17,
          "position": 457
        },
        "endLoc": {
          "line": 85,
          "column": 4,
          "position": 571
        }
      }
    },
    {
      "format": "python",
      "lines": 23,
      "fragment": "()\n        \n        test_data = {\n            \"status\": \"running\",\n            \"count\": 42,\n            \"active\": True,\n            \"nested\": {\"inner\": \"value\"}\n        }\n        \n        result = tool.format_for_accessibility(test_data)\n        assert \"status:\" in result\n        assert \"running\" in result\n        assert \"count:\" in result\n        assert \"42\" in result\n        assert \"active:\" in result\n        assert \"Enabled\" in result  # True should become \"Enabled\"\n        assert \"nested:\" in result\n        assert \"inner:\" in result\n        assert \"value\" in result\n\n    def test_format_for_accessibility_list(self):\n        \"\"\"Test formatting list for accessibility.\"\"\"\n        tool = ConcreteAccessibleTool",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_accessible_base.py",
        "start": 104,
        "end": 126,
        "startLoc": {
          "line": 104,
          "column": 23,
          "position": 666
        },
        "endLoc": {
          "line": 126,
          "column": 23,
          "position": 828
        }
      },
      "secondFile": {
        "name": "tests/core/test_example_accessible_tool.py",
        "start": 209,
        "end": 231,
        "startLoc": {
          "line": 209,
          "column": 22,
          "position": 1430
        },
        "endLoc": {
          "line": 231,
          "column": 22,
          "position": 1592
        }
      }
    },
    {
      "format": "python",
      "lines": 34,
      "fragment": "()\n        \n        # Test None\n        result = tool.format_for_accessibility(None)\n        assert result == \"Not set\"\n        \n        # Test boolean\n        result = tool.format_for_accessibility(True)\n        assert result == \"Enabled\"\n        result = tool.format_for_accessibility(False)\n        assert result == \"Disabled\"\n        \n        # Test numbers\n        result = tool.format_for_accessibility(42)\n        assert result == \"42\"\n        result = tool.format_for_accessibility(3.14)\n        assert result == \"3.14\"\n        \n        # Test string\n        result = tool.format_for_accessibility(\"hello\")\n        assert result == \"'hello'\"\n        result = tool.format_for_accessibility(\"\")\n        assert result == \"Empty\"\n        \n        # Test list\n        result = tool.format_for_accessibility([1, 2, 3])\n        assert \"List with 3 items\" in result\n        \n        # Test dict\n        result = tool.format_for_accessibility({\"a\": 1})\n        assert \"Dictionary with 1 keys\" in result\n\n\nclass TestAccessibleStatus",
      "tokens": 0,
      "firstFile": {
        "name": "tests/core/test_accessible_base.py",
        "start": 140,
        "end": 173,
        "startLoc": {
          "line": 140,
          "column": 23,
          "position": 941
        },
        "endLoc": {
          "line": 173,
          "column": 21,
          "position": 1180
        }
      },
      "secondFile": {
        "name": "tests/core/test_example_accessible_tool.py",
        "start": 246,
        "end": 279,
        "startLoc": {
          "line": 246,
          "column": 22,
          "position": 1714
        },
        "endLoc": {
          "line": 279,
          "column": 35,
          "position": 1953
        }
      }
    },
    {
      "format": "python",
      "lines": 28,
      "fragment": "class TestTool(Tool):\n            @property\n            def name(self) -> str:\n                return \"test_tool\"\n\n            @property\n            def version(self) -> str:\n                return \"1.0.0\"\n\n            @property\n            def dependencies(self) -> List[str]:\n                return [\"core>=1.0.0\"]\n\n            def __init__(self):\n                self.initialized = False\n\n            def initialize(self, container):\n                self.initialized = True\n\n            def shutdown(self):\n                pass\n\n            def get_capabilities(self):\n                return {\"test\": True}\n\n        test_tool = TestTool()\n\n        # Test compatibility checking",
      "tokens": 0,
      "firstFile": {
        "name": "tests/verify_plugin_compatibility.py",
        "start": 27,
        "end": 54,
        "startLoc": {
          "line": 27,
          "column": 9,
          "position": 142
        },
        "endLoc": {
          "line": 54,
          "column": 30,
          "position": 312
        }
      },
      "secondFile": {
        "name": "tests/plugins/test_plugin_compatibility.py",
        "start": 65,
        "end": 92,
        "startLoc": {
          "line": 65,
          "column": 9,
          "position": 387
        },
        "endLoc": {
          "line": 92,
          "column": 22,
          "position": 557
        }
      }
    },
    {
      "format": "python",
      "lines": 27,
      "fragment": "{\n        \"type\": \"dict\",\n        \"required\": [\"status\", \"data\", \"timestamp\"],\n        \"properties\": {\n            \"status\": {\"type\": \"str\", \"pattern\": \"^(success|error|warning)$\"},\n            \"data\": {\n                \"type\": \"dict\",\n                \"required\": [\"users\"],\n                \"properties\": {\n                    \"users\": {\n                        \"type\": \"list\",\n                        \"items\": {\n                            \"type\": \"dict\",\n                            \"required\": [\"id\", \"name\"],\n                            \"properties\": {\n                                \"id\": {\"type\": \"int\", \"min\": 1},\n                                \"name\": {\"type\": \"str\"}\n                            }\n                        }\n                    }\n                }\n            },\n            \"timestamp\": {\"type\": \"str\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$\"}\n        }\n    }\n\n    assert",
      "tokens": 0,
      "firstFile": {
        "name": "tests/test_utils.py",
        "start": 246,
        "end": 272,
        "startLoc": {
          "line": 246,
          "column": 2,
          "position": 1605
        },
        "endLoc": {
          "line": 272,
          "column": 7,
          "position": 1795
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 247,
        "end": 271,
        "startLoc": {
          "line": 247,
          "column": 2,
          "position": 1526
        },
        "endLoc": {
          "line": 271,
          "column": 2,
          "position": 1713
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "{\n        \"users\": {\n            \"columns\": {\n                \"id\": {\"type\": \"INTEGER\", \"constraints\": [\"PRIMARY KEY\"]},\n                \"name\": {\"type\": \"TEXT\", \"constraints\": [\"NOT NULL\"]},\n                \"email\": {\"type\": \"TEXT\", \"constraints\": [\"UNIQUE\"]}\n            }\n        }\n    }\n\n    expected_db_schema",
      "tokens": 0,
      "firstFile": {
        "name": "tests/test_utils.py",
        "start": 279,
        "end": 289,
        "startLoc": {
          "line": 279,
          "column": 2,
          "position": 1843
        },
        "endLoc": {
          "line": 289,
          "column": 19,
          "position": 1927
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 369,
        "end": 424,
        "startLoc": {
          "line": 369,
          "column": 2,
          "position": 2275
        },
        "endLoc": {
          "line": 424,
          "column": 2,
          "position": 2776
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "= {\n        \"users\": {\n            \"columns\": {\n                \"id\": {\"type\": \"INTEGER\", \"constraints\": [\"PRIMARY KEY\"]},\n                \"name\": {\"type\": \"TEXT\", \"constraints\": [\"NOT NULL\"]},\n                \"email\": {\"type\": \"TEXT\", \"constraints\": [\"UNIQUE\"]}\n            }\n        }\n    }\n\n    assert",
      "tokens": 0,
      "firstFile": {
        "name": "tests/test_utils.py",
        "start": 289,
        "end": 299,
        "startLoc": {
          "line": 289,
          "column": 2,
          "position": 1929
        },
        "endLoc": {
          "line": 299,
          "column": 7,
          "position": 2015
        }
      },
      "secondFile": {
        "name": "tests/test_utils.py",
        "start": 279,
        "end": 424,
        "startLoc": {
          "line": 279,
          "column": 2,
          "position": 1841
        },
        "endLoc": {
          "line": 424,
          "column": 2,
          "position": 2776
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": "{\n        \"name\": \"test_tool\",\n        \"version\": \"1.0.0\",\n        \"author\": \"Test Author\",\n        \"description\": \"Test tool\",\n        \"metadata\": {\n            \"category\": \"utility\",\n            \"compatibility\": [\"1.0\", \"2.0\"]\n        },\n        \"functions\": {\n            \"initialize\": lambda: True,\n            \"execute\": lambda x: x * 2,\n            \"cleanup\": lambda: None\n        }\n    }\n\n    expected_structure",
      "tokens": 0,
      "firstFile": {
        "name": "tests/test_utils.py",
        "start": 306,
        "end": 322,
        "startLoc": {
          "line": 306,
          "column": 2,
          "position": 2063
        },
        "endLoc": {
          "line": 322,
          "column": 19,
          "position": 2170
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 486,
        "end": 500,
        "startLoc": {
          "line": 486,
          "column": 2,
          "position": 3139
        },
        "endLoc": {
          "line": 500,
          "column": 2,
          "position": 3243
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "{\n        \"required_fields\": [\"name\", \"version\", \"author\", \"description\"],\n        \"metadata\": {\n            \"type\": \"dict\",\n            \"required\": [\"category\", \"compatibility\"],\n            \"properties\": {\n                \"category\": {\"type\": \"str\"},\n                \"compatibility\": {\"type\": \"list\", \"items\": {\"type\": \"str\"}}\n            }\n        },\n        \"functions\": {\n            \"initialize\": {\"parameters\": []},\n            \"execute\": {\"parameters\": [\"x\"]},\n            \"cleanup\": {\"parameters\": []}\n        }\n    }\n\n    assert",
      "tokens": 0,
      "firstFile": {
        "name": "tests/test_utils.py",
        "start": 322,
        "end": 339,
        "startLoc": {
          "line": 322,
          "column": 2,
          "position": 2174
        },
        "endLoc": {
          "line": 339,
          "column": 7,
          "position": 2319
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 501,
        "end": 516,
        "startLoc": {
          "line": 501,
          "column": 2,
          "position": 3249
        },
        "endLoc": {
          "line": 516,
          "column": 2,
          "position": 3391
        }
      }
    },
    {
      "format": "python",
      "lines": 18,
      "fragment": "{\n        \"status\": \"success\",\n        \"code\": 200,\n        \"data\": {\n            \"items\": [\n                {\"id\": 1, \"name\": \"Item 1\"},\n                {\"id\": 2, \"name\": \"Item 2\"}\n            ],\n            \"pagination\": {\n                \"page\": 1,\n                \"page_size\": 10,\n                \"total\": 2\n            }\n        },\n        \"timestamp\": \"2023-01-01T00:00:00Z\"\n    }\n\n    api_schema",
      "tokens": 0,
      "firstFile": {
        "name": "tests/test_utils.py",
        "start": 346,
        "end": 363,
        "startLoc": {
          "line": 346,
          "column": 2,
          "position": 2367
        },
        "endLoc": {
          "line": 363,
          "column": 11,
          "position": 2472
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 567,
        "end": 582,
        "startLoc": {
          "line": 567,
          "column": 2,
          "position": 3639
        },
        "endLoc": {
          "line": 582,
          "column": 2,
          "position": 3741
        }
      }
    },
    {
      "format": "python",
      "lines": 37,
      "fragment": "{\n        \"type\": \"dict\",\n        \"required\": [\"status\", \"code\", \"data\", \"timestamp\"],\n        \"properties\": {\n            \"status\": {\"type\": \"str\", \"pattern\": \"^(success|error|warning)$\"},\n            \"code\": {\"type\": \"int\", \"min\": 200, \"max\": 599},\n            \"data\": {\n                \"type\": \"dict\",\n                \"required\": [\"items\", \"pagination\"],\n                \"properties\": {\n                    \"items\": {\n                        \"type\": \"list\",\n                        \"items\": {\n                            \"type\": \"dict\",\n                            \"required\": [\"id\", \"name\"],\n                            \"properties\": {\n                                \"id\": {\"type\": \"int\", \"min\": 1},\n                                \"name\": {\"type\": \"str\"}\n                            }\n                        }\n                    },\n                    \"pagination\": {\n                        \"type\": \"dict\",\n                        \"required\": [\"page\", \"page_size\", \"total\"],\n                        \"properties\": {\n                            \"page\": {\"type\": \"int\", \"min\": 1},\n                            \"page_size\": {\"type\": \"int\", \"min\": 1, \"max\": 100},\n                            \"total\": {\"type\": \"int\", \"min\": 0}\n                        }\n                    }\n                }\n            },\n            \"timestamp\": {\"type\": \"str\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$\"}\n        }\n    }\n\n    assert",
      "tokens": 0,
      "firstFile": {
        "name": "tests/test_utils.py",
        "start": 363,
        "end": 399,
        "startLoc": {
          "line": 363,
          "column": 2,
          "position": 2476
        },
        "endLoc": {
          "line": 399,
          "column": 7,
          "position": 2796
        }
      },
      "secondFile": {
        "name": "tests/utils/validation.py",
        "start": 583,
        "end": 617,
        "startLoc": {
          "line": 583,
          "column": 2,
          "position": 3747
        },
        "endLoc": {
          "line": 617,
          "column": 2,
          "position": 4064
        }
      }
    }
  ],
  "filename": "/node-deps/node_modules/@jscpd/html-reporter/dist/templates/main.pug"
}