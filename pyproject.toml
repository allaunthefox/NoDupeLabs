[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "nodupe"
version = "0.1.0"
description = "Next-generation context-aware file deduplication and organization system"
authors = [{name = "Allaun"}]
license = {text = "Apache-2.0"}
requires-python = ">=3.9"
dependencies = [
    "PyYAML",
    "tqdm",
    "xxhash",
    "zstandard",
    "py7zr",
    "rarfile",
    "jsonschema"
]

[project.scripts]
nodupe = "nodupe.cli:main"

[tool.setuptools.packages.find]
where = ["."]

[tool.interrogate]
ignore-init-module = false
ignore-init-method = true
ignore-module = false
ignore-nested-functions = true
ignore-magic = false
ignore-private = true
ignore-semiprivate = true
exclude = ["setup.py", "docs", "build", "tests", "nodupe/vendor"]
fail-under = 95
verbose = 2
color = true

[tool.pydocstyle]
convention = "google"
match-dir = "nodupe"
# D100: Missing docstring in public module (we enforce this via interrogate mostly, but good to have)
# D104: Missing docstring in public package
# D107: Missing docstring in __init__
add-ignore = ["D107"]

